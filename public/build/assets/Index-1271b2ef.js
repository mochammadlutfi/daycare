import{_ as J,o as f,e as L,w as t,g as P,F as O,U as q,r as s,a as G,be as H,m as Q,K as W,f as l,p as e,L as c,j as N,a5 as X,t as _,$ as Y}from"./id-1c1e2a8a.js";import{S as Z}from"./SelectKelompok-aa48e4f9.js";import{E as U,a as B}from"./index-e88e0ccf.js";import"./moment-fbc5633a.js";import{E as ee,a as ae}from"./index-b29a4ac8.js";import{E as te}from"./index-9517473f.js";import{E as oe,a as le}from"./index-20a8f229.js";import{E as ne}from"./index-8d957708.js";import{E as se,a as ie}from"./index-dfa584b8.js";import{E as re}from"./index-7b664227.js";import{v as de}from"./directive-d6b9c9af.js";import"./index-82c08022.js";import"./event-9519ab40.js";import"./scroll-3dccf429.js";import"./index-3f637f53.js";import"./_initCloneObject-9c7c6a23.js";import"./_baseIteratee-5480d325.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-63f78cbe.js";import"./raf-a63b4db6.js";import"./index-960b7304.js";import"./vnode-6226af66.js";const pe={name:"SelectPaket",data(){return{dataList:[],value:this.modelValue,isLoading:!1}},watch:{modelValue(n){this.value=n}},props:{modelValue:{type:[Number,String]}},async mounted(){await this.fetchData()},methods:{async fetchData(){try{this.isLoading=!0;const n=await axios.get(this.route("admin.paket.data"),{params:{}});n.status==200&&(this.dataList=[],this.dataList=n.data),this.isLoading=!1}catch(n){console.error(n)}},selectChange(n){this.$emit("update:modelValue",n)}}};function ue(n,p,v,b,i,u){const V=U,g=B;return f(),L(g,{modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=r=>i.value=r),"value-key":"id",class:"w-100",filterable:"",clearable:"",remote:"",onChange:u.selectChange,autocomplete:"off",loading:i.isLoading,placeholder:"Pilih Paket"},{default:t(()=>[(f(!0),P(O,null,q(i.dataList,r=>(f(),L(V,{key:r.id,label:r.nama,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange","loading"])}const me=J(pe,[["render",ue]]),ce={class:"content"},_e={class:"content-heading d-flex justify-content-between align-items-center"},fe=l("span",null,"Anak",-1),ve={class:"space-x-1"},be=l("i",{class:"fa fa-print me-1"},null,-1),ge={class:"block rounded bordered"},ke={class:"block-content py-3"},he=l("span",null,[l("i",{class:"fa fa-search"})],-1),ye={class:"block-content p-0"},we=["href"],Ve=l("i",{class:"si si-eye me-2"},null,-1),xe={class:"block-content py-2"},Ee={class:"my-auto text-xs"},Ce={class:"d-flex"},Le={class:"float-end"},C=25,We={__name:"Index",setup(n){const p=s([]),v=s(!0),b=s(""),i=s(0),u=s(0),V=s(0),g=s(1),r=s(0),k=s(!1),m=G({kelompok:null,paket:null}),h=async y=>{try{v.value=!0;const a=await W.get("/admin/anak/data",{params:{page:y||1,limit:C,search:b.value}});a.status===200&&(p.value=a.data.data,g.value=a.data.current_page,i.value=a.data.total,r.value=a.data.per_page,u.value=a.data.from,u.to=a.data.to)}catch(a){console.error(a)}finally{v.value=!1}},K=y=>{h()},$=()=>{window.open(route("admin.anak.report",m),"_blank")};return H(()=>{h()}),(y,a)=>{const x=Y,E=U,j=B,w=ee,F=te,S=ae,d=oe,I=le,M=ne,D=se,z=ie,A=re,T=Q("base-layout"),R=de;return f(),L(T,null,{default:t(()=>[l("div",ce,[l("div",_e,[fe,l("div",ve,[e(x,{type:"primary",onClick:a[0]||(a[0]=N(o=>k.value=!0,["prevent"]))},{default:t(()=>[be,c(" Export ")]),_:1})])]),X((f(),P("div",ge,[l("div",ke,[e(S,{justify:"space-between"},{default:t(()=>[e(w,{span:12},{default:t(()=>[e(j,{modelValue:C,"onUpdate:modelValue":a[1]||(a[1]=o=>C=o),placeholder:"Pilih",style:{width:"110px"},onChange:a[2]||(a[2]=o=>h(1))},{default:t(()=>[e(E,{label:"25",value:"25"}),e(E,{label:"50",value:"50"}),e(E,{label:"100",value:"100"})]),_:1})]),_:1}),e(w,{span:7},{default:t(()=>[e(F,{modelValue:b.value,"onUpdate:modelValue":a[3]||(a[3]=o=>b.value=o),clearable:""},{prefix:t(()=>[he]),_:1},8,["modelValue"])]),_:1})]),_:1})]),l("div",ye,[e(I,{data:p.value,class:"w-100",onSortChange:K,"header-cell-class-name":"bg-body text-dark"},{default:t(()=>[e(d,{type:"index",width:"50"}),e(d,{prop:"nama",label:"Nama",sortable:""}),e(d,{prop:"jk",label:"Jenis Kelamin",sortable:""}),e(d,{label:"Kelompok"},{default:t(o=>[c(_(o.row.kelompok.nama)+" ("+_(o.row.kelompok.usia)+") ",1)]),_:1}),e(d,{prop:"user.detail.nama_ayah",label:"Nama Ayah",sortable:""}),e(d,{prop:"user.detail.nama_ibu",label:"Nama Ibu",sortable:""}),e(d,{label:"Aksi",align:"center",width:"180"},{default:t(o=>[l("a",{href:y.route("admin.anak.show",{id:o.row.id}),class:"ep-button ep-button--primary"},[Ve,c(" Detail ")],8,we)]),_:1})]),_:1},8,["data"])]),l("div",xe,[e(S,{justify:"space-between"},{default:t(()=>[e(w,{lg:12,class:"d-flex"},{default:t(()=>[l("p",Ee,"Menampilkan "+_(u.value)+" sampai "+_(V.value)+" dari "+_(i.value),1)]),_:1}),e(w,{lg:12,class:"text-end"},{default:t(()=>[e(M,{class:"float-end",background:"",layout:"prev, pager, next","page-size":r.value,total:i.value,"current-page":g.value,onCurrentChange:h},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[R,v.value]])]),e(A,{modelValue:k.value,"onUpdate:modelValue":a[7]||(a[7]=o=>k.value=o),title:"Export",width:"500"},{default:t(()=>[e(z,{"label-width":"30%",onSubmit:N($,["prevent"]),target:"_blank","label-position":"top"},{default:t(()=>[e(D,{class:"mb-4",label:"Kelompok"},{default:t(()=>[e(Z,{name:"kelompok",modelValue:m.kelompok,"onUpdate:modelValue":a[4]||(a[4]=o=>m.kelompok=o)},null,8,["modelValue"])]),_:1}),e(D,{class:"mb-4",label:"Paket"},{default:t(()=>[e(me,{name:"paket",modelValue:m.paket,"onUpdate:modelValue":a[5]||(a[5]=o=>m.paket=o)},null,8,["modelValue"])]),_:1}),l("div",Ce,[l("div",Le,[e(x,{onClick:a[6]||(a[6]=o=>k.value=!1)},{default:t(()=>[c("Batal")]),_:1}),e(x,{type:"primary","native-type":"submit"},{default:t(()=>[c(" Download ")]),_:1})])])]),_:1},8,["onSubmit"])]),_:1},8,["modelValue"])]),_:1})}}};export{We as default};
