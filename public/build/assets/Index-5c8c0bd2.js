import{h as k}from"./moment-fbc5633a.js";import{_ as v,J as x,a7 as E,m as C,o as D,e as S,w as o,f as e,K as h,p as t,t as r}from"./id-44e39273.js";import{E as V,a as L}from"./index-88bb1aa7.js";import{E as T,a as q}from"./index-84ed3e91.js";import{E as z}from"./index-4ea0d70f.js";import{E as B,a as I}from"./index-b7b101e9.js";import{E as M}from"./index-11481b41.js";import"./index-10bd6a9f.js";import"./event-9519ab40.js";import"./scroll-bd36456a.js";import"./index-9f983416.js";import"./_initCloneObject-24df7827.js";import"./_baseIteratee-982954bc.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-b43587b5.js";import"./raf-3ca20a2c.js";const Y={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const l=await x.get(this.route("admin.laundry.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});l.status==200&&(this.data=l.data.data,this.params.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page,this.from=l.data.from,this.to=l.data.to),this.isLoading=!1}catch(l){console.error(l)}},onClickRow(i,a,l){E.visit(this.route("admin.pegawai.show",{id:i.id}),{method:"get"})},selectAll(i){i.target.checked?this.dataList.data.forEach((a,l)=>{this.selected.push(a.id)}):this.selected=[]},format_date(i){if(i)return k(String(i)).format("DD MMM YYYY")}}},j={class:"content"},K={class:"content-heading d-flex justify-content-between align-items-center"},N=e("span",null,"Laundry",-1),A={class:"space-x-1"},O=["href"],P=e("i",{class:"fa fa-plus me-1"},null,-1),R={class:"block rounded"},U={class:"block-content py-3"},F=e("span",null,[e("i",{class:"fa fa-search"})],-1),G={class:"block-content p-0"},J=["href"],H=e("i",{class:"fa fa-eye me-1"},null,-1),Q={class:"block-content py-2"},W={class:"my-auto text-xs"};function X(i,a,l,Z,n,c){const m=V,f=L,p=T,g=z,u=q,d=B,b=I,w=M,y=C("base-layout");return D(),S(y,null,{default:o(()=>[e("div",j,[e("div",K,[N,e("div",A,[e("a",{href:i.route("admin.laundry.create"),class:"ep-button ep-button--primary"},[P,h(" Tambah ")],8,O)])]),e("div",R,[e("div",U,[t(u,{justify:"space-between"},{default:o(()=>[t(p,{span:12},{default:o(()=>[t(f,{modelValue:n.params.limit,"onUpdate:modelValue":a[0]||(a[0]=s=>n.params.limit=s),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=s=>c.fetchData(1))},{default:o(()=>[t(m,{label:"25",value:"25"}),t(m,{label:"50",value:"50"}),t(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),t(p,{span:7},{default:o(()=>[t(g,{modelValue:n.params.q,"onUpdate:modelValue":a[2]||(a[2]=s=>n.params.q=s),onInput:c.doSearch,clearable:""},{prefix:o(()=>[F]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),e("div",G,[t(b,{data:n.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:o(()=>[t(d,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:o(s=>[e("div",null,r(c.format_date(s.row.tgl)),1)]),_:1}),t(d,{label:"Kelompok",width:"220","header-align":"center"},{default:o(s=>[e("div",null,r(s.row.kelompok.nama)+" ("+r(s.row.kelompok.usia)+")",1)]),_:1}),t(d,{prop:"admin.nama",label:"Guru"}),t(d,{label:"Total Berat",width:"220","header-align":"center"},{default:o(s=>[e("div",null,r(s.row.total/1e3)+" Kg",1)]),_:1}),t(d,{label:"Aksi",align:"center",width:"180"},{default:o(s=>[e("a",{href:i.route("admin.laundry.show",{id:s.row.id}),class:"ep-button ep-button--primary"},[H,h(" Detail ")],8,J)]),_:1})]),_:1},8,["data"])]),e("div",Q,[t(u,{justify:"space-between"},{default:o(()=>[t(p,{lg:12,class:"d-flex"},{default:o(()=>[e("p",W,"Menampilkan "+r(n.from)+" sampai "+r(n.to)+" dari "+r(n.total),1)]),_:1}),t(p,{lg:12,class:"text-end"},{default:o(()=>[t(w,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:c.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const ht=v(Y,[["render",X]]);export{ht as default};
