import{h as x}from"./moment-fbc5633a.js";import{_ as E,K as C,a7 as D,m as L,o as h,e as f,w as o,f as t,p as e,a5 as S,t as i}from"./id-1c1e2a8a.js";import{E as V,a as q}from"./index-e88e0ccf.js";import{E as z,a as B}from"./index-b29a4ac8.js";import{E as M}from"./index-9517473f.js";import{E as Y,a as j}from"./index-20a8f229.js";import{E as I}from"./index-8d957708.js";import{v as P}from"./directive-d6b9c9af.js";import"./index-82c08022.js";import"./event-9519ab40.js";import"./scroll-3dccf429.js";import"./index-3f637f53.js";import"./_initCloneObject-9c7c6a23.js";import"./_baseIteratee-5480d325.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-63f78cbe.js";import"./raf-a63b4db6.js";const T={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const s=await C.get(this.route("user.laundry.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});s.status==200&&(this.data=s.data.data,this.params.page=s.data.current_page,this.total=s.data.total,this.pageSize=s.data.per_page,this.from=s.data.from,this.to=s.data.to),this.isLoading=!1}catch(s){console.error(s)}},onClickRow(r,a,s){D.visit(this.route("admin.pegawai.show",{id:r.id}),{method:"get"})},selectAll(r){r.target.checked?this.dataList.data.forEach((a,s)=>{this.selected.push(a.id)}):this.selected=[]},format_date(r){if(r)return x(String(r)).format("DD MMM YYYY")}}},A={class:"content"},K=t("div",{class:"content-heading d-flex justify-content-between align-items-center"},[t("span",null,"Laundry"),t("div",{class:"space-x-1"})],-1),N={class:"block rounded"},O={class:"block-content py-3"},R=t("span",null,[t("i",{class:"fa fa-search"})],-1),U={class:"block-content p-0"},F={class:"block-content py-2"},G={class:"my-auto text-xs"};function H(r,a,s,J,n,c){const m=V,g=q,p=z,b=M,u=B,d=Y,w=j,v=I,y=L("user-layout"),k=P;return h(),f(y,null,{default:o(()=>[t("div",A,[K,t("div",N,[t("div",O,[e(u,{justify:"space-between"},{default:o(()=>[e(p,{span:12},{default:o(()=>[e(g,{modelValue:n.params.limit,"onUpdate:modelValue":a[0]||(a[0]=l=>n.params.limit=l),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=l=>c.fetchData(1))},{default:o(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(p,{span:7},{default:o(()=>[e(b,{modelValue:n.params.q,"onUpdate:modelValue":a[2]||(a[2]=l=>n.params.q=l),onInput:c.doSearch,clearable:""},{prefix:o(()=>[R]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),t("div",U,[S((h(),f(w,{data:n.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:o(()=>[e(d,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:o(l=>[t("div",null,i(c.format_date(l.row.laundry.tgl)),1)]),_:1}),e(d,{prop:"anak.nama",label:"Anak"}),e(d,{label:"Kelompok",width:"220","header-align":"center"},{default:o(l=>[t("div",null,i(l.row.laundry.kelompok.nama)+" ("+i(l.row.laundry.kelompok.usia)+")",1)]),_:1}),e(d,{label:"Pengasuh",width:"220","header-align":"center"},{default:o(l=>[t("div",null,i(l.row.laundry.admin.nama),1)]),_:1}),e(d,{label:"Berat",width:"220","header-align":"center"},{default:o(l=>[t("div",null,i(l.row.berat)+" gram",1)]),_:1})]),_:1},8,["data"])),[[k,n.isLoading]])]),t("div",F,[e(u,{justify:"space-between"},{default:o(()=>[e(p,{lg:12,class:"d-flex"},{default:o(()=>[t("p",G,"Menampilkan "+i(n.from)+" sampai "+i(n.to)+" dari "+i(n.total),1)]),_:1}),e(p,{lg:12,class:"text-end"},{default:o(()=>[e(v,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:c.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const me=E(T,[["render",H]]);export{me as default};
