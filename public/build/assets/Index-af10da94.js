import{h as B}from"./moment-fbc5633a.js";import{_ as V,J as M,a7 as P,m as L,o as g,e as b,w as t,f as a,K as p,p as e,a5 as T,t as c,g as q,$ as j,q as z,u as I,v as Y}from"./id-2e276a2e.js";import{E as N}from"./index-522dba8d.js";import{E as U}from"./index-d645a2bc.js";import{E as A,a as O}from"./index-bb79b737.js";import{E as R,a as F}from"./index-5bcbf47d.js";import{E as H}from"./index-57703201.js";import{E as J,a as K}from"./index-a4208ec2.js";import{E as G}from"./index-3a9112db.js";import{v as Q}from"./directive-2e5632de.js";import"./index-80ddcb64.js";import"./scroll-bd1cd202.js";import"./vnode-f4803515.js";import"./typescript-defaf979.js";import"./index-20f4b275.js";import"./event-9519ab40.js";import"./index-a3b5a262.js";import"./_initCloneObject-8785b8d3.js";import"./_baseIteratee-0f2e46c6.js";import"./isArrayLikeObject-5cf94b9b.js";import"./raf-840075f3.js";const W={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(s){var s=s??1;try{this.isLoading=!0;const l=await M.get(this.route("admin.paket.data"),{params:{page:s,limit:this.params.limit,q:this.params.q}});l.status==200&&(this.data=l.data.data,this.params.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page,this.from=l.data.from,this.to=l.data.to),this.isLoading=!1}catch(l){console.error(l)}},onClickRow(o,s,l){P.visit(this.route("admin.pegawai.show",{id:o.id}),{method:"get"})},selectAll(o){o.target.checked?this.dataList.data.forEach((s,l)=>{this.selected.push(s.id)}):this.selected=[]},format_date(o){if(o)return B(String(o)).format("DD MMM YYYY")},hapus(o){N.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.paket.delete",{id:o}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),U({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},X={class:"content"},Z={class:"content-heading d-flex justify-content-between align-items-center"},$=a("span",null,"Paket",-1),ee={class:"space-x-1"},te=["href"],ae=a("i",{class:"fa fa-plus me-1"},null,-1),oe={class:"block rounded"},se={class:"block-content py-3"},ne=a("span",null,[a("i",{class:"fa fa-search"})],-1),le={class:"block-content p-0"},ie=a("i",{class:"fa fa-angle-down ms-1"},null,-1),re=["href"],pe=a("i",{class:"si fa-fw si-note"},null,-1),ce=a("i",{class:"si fa-fw si-trash"},null,-1),de={class:"block-content py-2"},ue={class:"my-auto text-xs"};function me(o,s,l,_e,i,d){const m=A,w=O,u=R,k=H,f=F,r=J,y=j,h=z,v=I,E=Y,x=K,D=G,C=L("base-layout"),S=Q;return g(),b(C,null,{default:t(()=>[a("div",X,[a("div",Z,[$,a("div",ee,[a("a",{href:o.route("admin.paket.create"),class:"ep-button ep-button--primary"},[ae,p(" Tambah ")],8,te)])]),a("div",oe,[a("div",se,[e(f,{justify:"space-between"},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(w,{modelValue:i.params.limit,"onUpdate:modelValue":s[0]||(s[0]=n=>i.params.limit=n),placeholder:"Pilih",style:{width:"115px"},onChange:s[1]||(s[1]=n=>d.fetchData(1))},{default:t(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(u,{span:7},{default:t(()=>[e(k,{modelValue:i.params.q,"onUpdate:modelValue":s[2]||(s[2]=n=>i.params.q=n),onInput:d.doSearch,clearable:""},{prefix:t(()=>[ne]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),a("div",le,[T((g(),b(x,{data:i.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:t(()=>[e(r,{prop:"nama",label:"Nama"}),e(r,{prop:"usia",label:"Usia"}),e(r,{prop:"pembangunan",label:"Pembangunan"},{default:t(n=>[p(c(o.currency(n.row.pembangunan)),1)]),_:1}),e(r,{prop:"pendaftaran",label:"Pendaftaran"},{default:t(n=>[p(c(o.currency(n.row.pendaftaran)),1)]),_:1}),e(r,{prop:"spp",label:"SPP"},{default:t(n=>[p(c(o.currency(n.row.spp)),1)]),_:1}),e(r,{prop:"anak_count",label:"peserta"}),e(r,{label:"Aksi",align:"center",width:"180"},{default:t(n=>[e(E,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(v,null,{default:t(()=>[e(h,null,{default:t(()=>[a("a",{href:o.route("admin.paket.edit",{id:n.row.id}),class:"d-flex justify-content-between space-x-1"},[p(" Ubah "),pe],8,re)]),_:2},1024),e(h,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:q(fe=>d.hapus(n.row.id),["prevent"])},{default:t(()=>[p(" Hapus "),ce]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(y,{type:"primary"},{default:t(()=>[p(" Aksi "),ie]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[S,i.isLoading]])]),a("div",de,[e(f,{justify:"space-between"},{default:t(()=>[e(u,{lg:12,class:"d-flex"},{default:t(()=>[a("p",ue,"Menampilkan "+c(i.from)+" sampai "+c(i.to)+" dari "+c(i.total),1)]),_:1}),e(u,{lg:12,class:"text-end"},{default:t(()=>[e(D,{class:"float-end",background:"",layout:"prev, pager, next","page-size":i.pageSize,total:i.total,"current-page":i.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const Ie=V(W,[["render",me]]);export{Ie as default};
