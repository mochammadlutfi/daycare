import{S as D}from"./SelectKelompok-0760743e.js";import{_ as L,y as j,m as v,o as h,e as g,w as e,f as s,j as y,p as a,L as l,F as N,W as B,t as o,a6 as F,a0 as K}from"./id-ebd2aa87.js";import{E as U}from"./index-49bd9fbe.js";import{E as q,a as z}from"./index-6077a84f.js";import{E as O,a as Y}from"./index-d38f147b.js";import{E as H,a as J}from"./index-3c7bf8db.js";import{E as R}from"./index-4dfa613b.js";import{E as W,a as G}from"./index-dd2d84f0.js";import{E as Q}from"./index-cbe7639f.js";import{E as X,a as Z}from"./index-81da6a09.js";import{E as $}from"./index-e4c0581d.js";import{v as aa}from"./directive-bba39c20.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./index-9bca3690.js";import"./vnode-a5b99e31.js";import"./index-c6134944.js";import"./scroll-7f616a59.js";import"./index-1b306c27.js";import"./_initCloneObject-a8f0c4e6.js";import"./_baseIteratee-ec78b234.js";import"./isArrayLikeObject-dc9d0eb3.js";import"./raf-04896134.js";import"./index-8a1cff73.js";const ea={components:{SelectKelompok:D},props:{data:{type:Object},errors:{type:Object}},data(){return{showModal:!1,modalTitle:"Terima Pendaftaran",loadingForm:!1,form:{kelompok_id:null,status:null,alasan:null},activeTab:"anak",invoice:[],page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async mounted(){await this.fetchData()},methods:{openModal(r){this.form.status=r,this.showModal=!0,this.modalTitle=r=="terima"?"Terima Pendaftaran":"Tolak Pendaftaran"},closeModal(){this.modalTitle="Terima Pendaftaran",this.form.status=null,this.form.kelompok_id=null,this.form.alasan=null,this.showModal=!1},updateTab(r,i){console.log(r,i)},submit(){this.loadingForm=!0,this.$inertia.form(this.form).post(this.route("admin.register.update",{id:this.data.id}),{preserveScroll:!0,onFinish:()=>{this.loadingForm=!1},onSuccess:()=>{U({type:"success",message:"Data Berhasil Disimpan!"}),this.onCloseForm()}})},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(i){var i=i??1;try{this.isLoading=!0;const d=await axios.get(this.route("admin.invoice.data"),{params:{page:i,limit:this.params.limit,q:this.params.q,anak:this.data.id}});d.status==200&&(this.invoice=d.data.data,this.params.page=d.data.current_page,this.total=d.data.total,this.pageSize=d.data.per_page,this.from=d.data.from,this.to=d.data.to),this.isLoading=!1}catch(d){console.error(d)}},format_date(r){if(r)return j(String(r)).format("DD MMM YYYY")}}},ta={class:"content"},la={class:"content-heading d-flex justify-content-between align-items-center"},sa=s("span",null,"Detail Anak",-1),da={class:"space-x-1"},oa=s("i",{class:"fa fa-check me-2"},null,-1),na=s("i",{class:"fa fa-close me-2"},null,-1),ia={class:""},ma={class:"block-content"},_a={class:"fw-semibold"},ua={class:"fw-semibold"},ra={class:"fw-semibold"},ca={class:"fw-semibold"},fa={class:"fw-semibold"},ha={class:"fw-semibold"},ba={class:"fw-semibold"},ga={class:"fw-semibold"},pa={class:"fw-semibold"},ka={class:"fw-semibold"},ya={class:"fw-semibold"},wa={class:"fw-semibold"},Ta={class:"block-content"},va={class:"fw-semibold"},Ea={class:"fw-semibold"},Aa={class:"fw-semibold"},Va={class:"fw-semibold"},Pa={class:"fw-semibold"},Ca={class:"fw-semibold"},Ma={class:"fw-semibold"},Sa={class:"fw-semibold"},Ia={class:"fw-semibold"},xa={class:"fw-semibold"},Da={class:"fw-semibold"},La={class:"fw-semibold"},ja={class:"fw-semibold"},Na={class:"fw-semibold"},Ba={class:"fw-semibold"},Fa={class:"fw-semibold"},Ka={class:"fw-semibold"},Ua={class:"fw-semibold"},qa={class:"block-content py-3"},za=s("span",null,[s("i",{class:"fa fa-search"})],-1),Oa={class:"block-content p-0"},Ya={key:0,class:"badge bg-primary"},Ha={key:1,class:"badge bg-danger"},Ja=["href"],Ra=s("i",{class:"fa fa-eye me-1"},null,-1),Wa={class:"block-content py-2"},Ga={class:"my-auto text-xs"},Qa={class:"text-end"},Xa=s("i",{class:"fa fa-close me-2"},null,-1),Za=s("i",{class:"fa fa-check me-2"},null,-1);function $a(r,i,d,ae,m,c){const b=K,t=q,n=z,p=O,k=H,E=J,w=R,f=W,A=G,V=Q,P=Y,C=v("select-kelompok"),T=X,M=Z,S=$,I=v("base-layout"),x=aa;return h(),g(I,null,{default:e(()=>[s("div",ta,[s("div",la,[sa,s("div",da,[d.data.status=="Pending"?(h(),y(N,{key:0},[a(b,{onClick:i[0]||(i[0]=u=>c.openModal("terima")),type:"primary"},{default:e(()=>[oa,l(" Terima ")]),_:1}),a(b,{onClick:i[1]||(i[1]=u=>c.openModal("tolak")),type:"danger"},{default:e(()=>[na,l(" Tolak ")]),_:1})],64)):B("",!0)])]),s("div",ia,[a(P,{modelValue:m.activeTab,"onUpdate:modelValue":i[5]||(i[5]=u=>m.activeTab=u),class:"block rounded-2",onTabClick:c.updateTab,stretch:""},{default:e(()=>[a(p,{label:"Informasi Anak",name:"anak"},{default:e(()=>[s("div",ma,[a(n,{gutter:20},{default:e(()=>[a(t,{md:12},{default:e(()=>[a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Nama Lengkap")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",_a,o(d.data.nama),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Nama Panggilan")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ua,o(d.data.username),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Jenis Kelamin")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ra,o(d.data.jk=="L"?"Laki-Laki":"Perempuan"),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Tempat / Tanggal Lahir")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ca,o(d.data.tmp_lahir)+" / "+o(d.data.tgl_lahir),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Anak Ke")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",fa,o(d.data.anak_ke),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Jarak Rumah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ha,o(d.data.jarak)+" Km",1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Alamat")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ba,o(d.data.alamat),1)]),_:1})]),_:1})]),_:1}),a(t,{md:12},{default:e(()=>[a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Sosialisasi dengan lingkungan")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ga,o(d.data.sosialisasi_dengan_lingkungan_anak),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Sakit yang pernah diderita")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",pa,o(d.data.sakit_yang_pernah_diderita_anak),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Makanan yang disukai")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ka,o(d.data.makanan_yang_disukai_anak),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Makanan yang tidak disukai")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ya,o(d.data.makanan_yang_tidak_disukai_anak),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Memiliki Alergi")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",wa,o(d.data.memiliki_alergi_anak),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Scan Akta Kelahiran")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : ")]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),a(p,{label:"Informasi Orang Tua/Wali",name:"ortu"},{default:e(()=>[s("div",Ta,[a(n,{gutter:20},{default:e(()=>[a(t,{md:12},{default:e(()=>[a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Nama Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",va,o(d.data.user.detail.nama_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Tempat / Tanggal Lahir Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ea,o(d.data.user.detail.tmp_lahir_ayah)+" / "+o(d.data.user.detail.tgl_lahir_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("No HP Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Aa,o(d.data.user.detail.telp_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Pendidkan Terakhir Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Va,o(d.data.user.detail.pendidikan_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Agama Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Pa,o(d.data.user.detail.agama_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Alamat Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ca,o(d.data.user.detail.alamat_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Pekerjaan Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ma,o(d.data.user.detail.pekerjaan_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Penghasilan Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Sa,o(d.data.user.detail.penghasilan_ayah),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Alamat Kantor Ayah")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ia,o(d.data.user.detail.alamat_kantor_ayah),1)]),_:1})]),_:1})]),_:1}),a(t,{md:12},{default:e(()=>[a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Nama Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",xa,o(d.data.user.detail.nama_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Tempat / Tanggal Lahir Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Da,o(d.data.user.detail.tmp_lahir_ibu)+" / "+o(d.data.user.detail.tgl_lahir_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("No HP Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",La,o(d.data.user.detail.telp_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Pendidkan Terakhir Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",ja,o(d.data.user.detail.pendidikan_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Agama Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Na,o(d.data.user.detail.agama_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Alamat Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ba,o(d.data.user.detail.alamat_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Pekerjaan Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Fa,o(d.data.user.detail.pekerjaan_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Penghasilan Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ka,o(d.data.user.detail.penghasilan_ibu),1)]),_:1})]),_:1}),a(n,{class:"mb-2",gutter:10},{default:e(()=>[a(t,{md:10},{default:e(()=>[l("Alamat Kantor Ibu")]),_:1}),a(t,{md:14},{default:e(()=>[l(" : "),s("span",Ua,o(d.data.user.detail.alamat_kantor_ibu),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),a(p,{label:"Informasi Pembayaran",name:"invoice"},{default:e(()=>[s("div",qa,[a(n,{justify:"space-between"},{default:e(()=>[a(t,{span:12},{default:e(()=>[a(E,{modelValue:m.params.limit,"onUpdate:modelValue":i[2]||(i[2]=u=>m.params.limit=u),placeholder:"Pilih",style:{width:"115px"},onChange:i[3]||(i[3]=u=>c.fetchData(1))},{default:e(()=>[a(k,{label:"25",value:"25"}),a(k,{label:"50",value:"50"}),a(k,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),a(t,{span:7},{default:e(()=>[a(w,{modelValue:m.params.q,"onUpdate:modelValue":i[4]||(i[4]=u=>m.params.q=u),onInput:c.doSearch,clearable:""},{prefix:e(()=>[za]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),s("div",Oa,[F((h(),g(A,{data:m.invoice,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:e(()=>[a(f,{prop:"nomor",label:"Nomor",width:"220","header-align":"center"}),a(f,{prop:"user.nama",label:"Pengguna"}),a(f,{prop:"anak.nama",label:"Anak"}),a(f,{label:"Tanggal Tempo",align:"center"},{default:e(u=>[l(o(c.format_date(u.row.tgl_tempo)),1)]),_:1}),a(f,{label:"Status",align:"center"},{default:e(u=>[u.row.status=="paid"?(h(),y("span",Ya," Lunas ")):(h(),y("span",Ha," Belum Bayar "))]),_:1}),a(f,{label:"Total",align:"center"},{default:e(u=>[l(o(r.currency(u.row.total)),1)]),_:1}),a(f,{label:"Aksi",align:"center",width:"180"},{default:e(u=>[s("a",{href:r.route("admin.invoice.show",{id:u.row.id}),class:"ep-button ep-button--primary"},[Ra,l(" Detail ")],8,Ja)]),_:1})]),_:1},8,["data"])),[[x,r.isLoading]])]),s("div",Wa,[a(n,{justify:"space-between"},{default:e(()=>[a(t,{lg:12,class:"d-flex"},{default:e(()=>[s("p",Ga,"Menampilkan "+o(m.from)+" sampai "+o(m.to)+" dari "+o(m.total),1)]),_:1}),a(t,{lg:12,class:"text-end"},{default:e(()=>[a(V,{class:"float-end",background:"",layout:"prev, pager, next","page-size":m.pageSize,total:m.total,"current-page":m.page,onCurrentChange:c.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue","onTabClick"])])]),a(S,{modelValue:m.showModal,"onUpdate:modelValue":i[8]||(i[8]=u=>m.showModal=u),title:m.modalTitle,width:"40%"},{default:e(()=>[a(M,{model:m.form,"label-position":"top"},{default:e(()=>[m.form.status=="terima"?(h(),g(T,{key:0,label:"Kelompok",error:d.errors.kelompok_id},{default:e(()=>[a(C,{modelValue:m.form.kelompok_id,"onUpdate:modelValue":i[6]||(i[6]=u=>m.form.kelompok_id=u)},null,8,["modelValue"])]),_:1},8,["error"])):(h(),g(T,{key:1,label:"Alasan",error:d.errors.alasan},{default:e(()=>[a(w,{type:"textarea",modelValue:m.form.alasan,"onUpdate:modelValue":i[7]||(i[7]=u=>m.form.alasan=u)},null,8,["modelValue"])]),_:1},8,["error"])),s("div",Qa,[a(b,{onClick:c.closeModal},{default:e(()=>[Xa,l(" Batal ")]),_:1},8,["onClick"]),a(b,{type:"primary",onClick:c.submit},{default:e(()=>[Za,l(" Simpan ")]),_:1},8,["onClick"])])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1})}const Ae=L(ea,[["render",$a]]);export{Ae as default};
