import{_ as N,y as w,m as H,o as c,e as y,w as a,f as s,K as o,j as b,V as O,p as e,g as p,t as u,S as E,F as S,a5 as x,$ as G}from"./id-44e39273.js";import{S as W}from"./SelectAnak-a8cba912.js";import{E as C}from"./index-8d5cd002.js";import{E as v}from"./index-ada9f14f.js";import{E as q,a as J}from"./index-84ed3e91.js";import{E as Q,a as X}from"./index-b7b101e9.js";import{E as Z,a as $}from"./index-9408e673.js";import{E as ee}from"./index-4ea0d70f.js";import{E as ae,a as te}from"./index-aa7e31ad.js";import{E as le}from"./index-f9851f1c.js";import{E as se,a as ie}from"./index-8879f56e.js";import{E as ne}from"./index-05c477a1.js";import{v as oe}from"./directive-cd218522.js";import{E as me}from"./index-17402d82.js";import"./index-88bb1aa7.js";import"./index-10bd6a9f.js";import"./event-9519ab40.js";import"./scroll-bd36456a.js";import"./index-9f983416.js";import"./_initCloneObject-24df7827.js";import"./_baseIteratee-982954bc.js";import"./index-05777cc1.js";import"./vnode-eeb9e0f5.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-b43587b5.js";import"./raf-3ca20a2c.js";import"./index-cd789448.js";import"./position-8fc91ecf.js";const de={components:{SelectAnak:W},data(){return{activeTab:"RPPH",isLoading:!1,modalAwal:!1,loadingAwal:!1,formAwal:{id:null,kegiatan:null,keterangan:null},titleModalAwal:"Tambah Asesmen Awal",modalSumatif:!1,loadingSumatif:!1,formSumatif:{id:null,status:null,keterangan:null},modalAsesmen:!1,loadingAsesmen:!1,titleModalAsesmen:"Tambah Asesmen Anak",formAsesmen:{id:null,anak_id:null,lines:[],images:[],imagesDeleted:[]}}},props:{data:Object,errors:Object},methods:{addModalAwal(){this.modalAwal=!0,this.titleModalAwal="Tambah Asesmen Awal",this.formAwal.id=null,this.formAwal.kegiatan=null,this.formAwal.keterangan=null},editAwal(i){this.modalAwal=!0,this.titleModalAwal="Ubah Asesmen Awal",this.formAwal.id=i.id,this.formAwal.kegiatan=i.kegiatan,this.formAwal.keterangan=i.keterangan},hapusAwal(i){C.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.rpph.awal.delete",{rpph:this.data.id,id:i}),{preserveScroll:!0,onSuccess:()=>{v({type:"success",message:"Data Berhasil Dihapus!"})}})})},submitAwal(){this.loadingAwal=!0;let i=this.$inertia.form(this.formAwal),t=this.formAwal.id?this.route("admin.rpph.awal.update",{rpph:this.data.id,id:this.formAwal.id}):this.route("admin.rpph.awal.store",{rpph:this.data.id});i.post(t,{preserveScroll:!0,onFinish:()=>{this.loadingAwal=!1},onSuccess:()=>{v({type:"success",message:"Data Berhasil Disimpan!"}),this.modalAwal=!1}})},editSumatif(i){this.modalSumatif=!0,this.formSumatif.id=i.id,this.formSumatif.status=i.status,this.formSumatif.keterangan=i.keterangan},submitSumatif(){this.loadingSumatif=!0;let i=this.$inertia.form(this.formSumatif),t=this.route("admin.rpph.sumatif.update",{rpph:this.data.id,id:this.formSumatif.id});i.post(t,{preserveScroll:!0,onFinish:()=>{this.loadingSumatif=!1},onSuccess:()=>{v({type:"success",message:"Data Berhasil Disimpan!"}),this.modalSumatif=!1}})},addModalAsesmen(){this.modalAsesmen=!0,this.titleModalAsesmen="Tambah Asesmen Anak",this.formAsesmen.id=null,this.formAsesmen.anak_id=null,this.formAsesmen.lines=[],this.formAsesmen.images=[],this.formAsesmen.imagesDeleted=[],this.data.detail.length&&this.data.detail.forEach((i,t)=>{this.formAsesmen.lines.push({id:null,asesmen_id:null,rpph_line_id:i.id,iktp:i.iktp,status:0,keterangan:null})})},editAsesmen(i){this.modalAsesmen=!0,this.titleModalAsesmen="Ubah Asesmen Anak",this.formAsesmen.id=i.id,this.formAsesmen.anak_id=i.anak_id,this.formAsesmen.lines=[],this.formAsesmen.images=[],this.formAsesmen.imagesDeleted=[],i.nilai.length&&i.nilai.forEach((t,m)=>{this.formAsesmen.lines.push({id:t.id,asesmen_id:t.asesmen_id,rpph_line_id:t.rpph_line_id,iktp:t.line.iktp,status:t.line.status,keterangan:t.keterangan})}),i.foto.length&&i.foto.forEach(t=>{this.formAsesmen.images.push({name:t.nama,url:t.path})})},hapusAsesmen(i){C.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.rpph.asesmen.delete",{rpph:this.data.id,id:i}),{preserveScroll:!0,onSuccess:()=>{v({type:"success",message:"Data Berhasil Dihapus!"})}})})},submitAsesmen(){this.loadingAsesmen=!0;let i=this.$inertia.form(this.formAsesmen),t=this.formAsesmen.id?this.route("admin.rpph.asesmen.update",{rpph:this.data.id,id:this.formAsesmen.id}):this.route("admin.rpph.asesmen.store",{rpph:this.data.id});i.post(t,{preserveScroll:!0,onFinish:()=>{this.loadingAsesmen=!1},onSuccess:()=>{v({type:"success",message:"Data Berhasil Disimpan!"}),this.modalAsesmen=!1}})},removeImage(i,t){this.formAsesmen.imagesDeleted.push(i)},percentage(i,t){var m=parseInt(i)/t*100;return Math.round(m)},format_date(i){if(i)return w().locale("id"),w(String(i)).format("DD MMMM YYYY")},format_jam(i){if(i)return w().locale("id"),w(this.data.tgl_mulai+" "+i).format("HH:mm")},getHari(){const i=w(this.data.tgl_mulai);return w(this.data.tgl_selesai).diff(i,"day")+" Hari "},hapus(i){C.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.rpph.delete",{id:i}),{preserveScroll:!0,onSuccess:()=>{v({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},re={class:"content"},ue={class:"content-heading d-flex justify-content-between align-items-center"},fe=s("span",null,"Detail RPPH",-1),_e={class:"space-x-1"},ce=["href"],pe=s("i",{class:"fa fa-download me-1"},null,-1),he=["href"],ge=s("i",{class:"fa fa-download me-1"},null,-1),ke=["href"],be=s("i",{class:"si si-note me-1"},null,-1),Ae=s("i",{class:"si si-trash me-1"},null,-1),we=s("i",{class:"fa fa-plus me-1"},null,-1),ve={class:"block rounded-2"},ye={class:"block-content p-4"},Se={class:"fw-semibold"},Ve={class:"fw-semibold"},Te={class:"fw-semibold"},Me={class:"fw-semibold"},Ee={class:"fw-semibold"},De={class:"fw-semibold"},Pe=s("h3",{class:"h5 mb-2"},"Asesmen Awal",-1),Be=s("i",{class:"fa fa-plus me-1"},null,-1),xe=s("i",{class:"si si-note me-1"},null,-1),Ce=s("i",{class:"fa fa-close me-1"},null,-1),Ue=s("h3",{class:"h5 mb-2"},"Rencana Kegiatan",-1),je=s("h3",{class:"h5 mb-2"},"Asesmen Sumatif",-1),He=s("i",{class:"si si-note me-1"},null,-1),Fe={class:"d-flex"},Ke={class:"fs-lg fw-bold"},Ie={class:"d-block ms-4"},Re=s("i",{class:"si si-note me-1"},null,-1),Ye=s("i",{class:"si si-trash me-1"},null,-1),ze={class:"demo-image__preview"},Le=s("div",{class:""},"Foto Kegiatan",-1),Ne={class:"d-block"},Oe={class:"d-flex justify-content-end"},Ge=s("i",{class:"fa fa-close me-2"},null,-1),We=s("i",{class:"fa fa-check me-2"},null,-1),qe={class:"d-block"},Je={class:"d-flex justify-content-end"},Qe=s("i",{class:"fa fa-close me-2"},null,-1),Xe=s("i",{class:"fa fa-check me-2"},null,-1),Ze=s("i",{class:"fa fa-plus"},null,-1),$e=s("div",{class:"el-upload__tip"}," file jpg/png kurang dari 1MB ",-1),ea={class:"d-block"},aa={class:"d-flex justify-content-end"},ta=s("i",{class:"fa fa-close me-2"},null,-1),la=s("i",{class:"fa fa-check me-2"},null,-1);function sa(i,t,m,ia,n,d){const _=G,f=q,k=J,r=Q,V=X,U=Z,F=me,K=$,T=ee,A=ae,D=te,P=le,M=se,j=ie,I=H("select-anak"),R=ne,Y=H("base-layout"),B=oe;return c(),y(Y,{title:"Detail Penilaian"},{default:a(()=>[s("div",re,[s("div",ue,[fe,s("div",_e,[s("a",{href:i.route("admin.rpph.pdf",{id:m.data.id}),class:"ep-button ep-button--primary"},[pe,o(" Download RPPH ")],8,ce),m.data.asesmen.length?(c(),b("a",{key:0,href:i.route("admin.rpph.asesmen.pdf",{rpph:m.data.id}),class:"ep-button ep-button--primary"},[ge,o(" Download Asesmen ")],8,he)):O("",!0),s("a",{href:i.route("admin.rpph.edit",{id:m.data.id}),class:"ep-button ep-button--primary"},[be,o(" Ubah ")],8,ke),e(_,{type:"danger",onClick:t[0]||(t[0]=p(l=>d.hapus(m.data.id),["prevent"]))},{default:a(()=>[Ae,o(" Hapus ")]),_:1}),e(_,{type:"primary",plain:"",onClick:t[1]||(t[1]=p(l=>d.addModalAsesmen(),["prevent"]))},{default:a(()=>[we,o(" Tambah Asesmen ")]),_:1})])]),s("div",ve,[e(K,{modelValue:n.activeTab,"onUpdate:modelValue":t[3]||(t[3]=l=>n.activeTab=l),class:"block rounded-2",stretch:""},{default:a(()=>[e(U,{label:"RPPH",name:"RPPH"},{default:a(()=>[s("div",ye,[e(k,{gutter:20,justify:"space-between",class:"mb-4"},{default:a(()=>[e(f,{lg:12},{default:a(()=>[e(k,{class:"mb-2",gutter:10},{default:a(()=>[e(f,{lg:8},{default:a(()=>[o("Topik/Subtopik")]),_:1}),e(f,{lg:16},{default:a(()=>[s("div",Se,u(m.data.topik)+"/"+u(m.data.subtopik),1)]),_:1})]),_:1}),e(k,{class:"mb-2",gutter:10},{default:a(()=>[e(f,{lg:8},{default:a(()=>[o("Fase")]),_:1}),e(f,{lg:16},{default:a(()=>[s("div",Ve,u(m.data.fase),1)]),_:1})]),_:1}),e(k,{class:"mb-2",gutter:10},{default:a(()=>[e(f,{lg:8},{default:a(()=>[o("Kelompok")]),_:1}),e(f,{lg:16},{default:a(()=>[s("div",Te,u(m.data.kelompok.nama)+" ("+u(m.data.kelompok.usia)+")",1)]),_:1})]),_:1})]),_:1}),e(f,{lg:12},{default:a(()=>[e(k,{class:"mb-2",gutter:10},{default:a(()=>[e(f,{lg:8},{default:a(()=>[o("Tanggal")]),_:1}),e(f,{lg:16},{default:a(()=>[s("div",Me,u(d.format_date(m.data.tgl_mulai))+" - "+u(d.format_date(m.data.tgl_selesai)),1)]),_:1})]),_:1}),e(k,{class:"mb-2",gutter:10},{default:a(()=>[e(f,{lg:8},{default:a(()=>[o("Durasi")]),_:1}),e(f,{lg:16},{default:a(()=>[s("div",Ee,u(d.getHari()),1)]),_:1})]),_:1}),e(k,{class:"mb-2",gutter:10},{default:a(()=>[e(f,{lg:8},{default:a(()=>[o("Waktu")]),_:1}),e(f,{lg:16},{default:a(()=>[s("div",De,u(d.format_jam(m.data.jam_mulai))+" - "+u(d.format_jam(m.data.jam_selesai)),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(V,{data:m.data.detail,border:"",class:"mb-4"},{default:a(()=>[e(r,{type:"index",width:"50"}),e(r,{label:"Klasifikasi",prop:"klasifikasi"}),e(r,{label:"Tujuan Pembelajaran",prop:"tujuan"}),e(r,{label:"Perilaku yang teramati/IKTP",prop:"iktp"})]),_:1},8,["data"]),Pe,e(V,{data:m.data.asesmen_awal,border:"",class:"mb-4"},{default:a(()=>[e(r,{type:"index",width:"50"}),e(r,{label:"Kegiatan",prop:"kegiatan"}),e(r,{label:"Hasil Pengamatan",prop:"keterangan"}),e(r,{align:"right",width:"200"},{header:a(()=>[e(_,{size:"small",type:"primary",class:"w-100",onClick:t[2]||(t[2]=l=>d.addModalAwal())},{default:a(()=>[Be,o(" Tambah ")]),_:1})]),default:a(l=>[e(_,{size:"small",type:"info",onClick:h=>d.editAwal(l.row)},{default:a(()=>[xe,o(" Ubah ")]),_:2},1032,["onClick"]),e(_,{size:"small",type:"danger",onClick:h=>d.hapusAwal(l.row.id)},{default:a(()=>[Ce,o(" Hapus ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Ue,s("ol",null,[(c(!0),b(S,null,E(m.data.kegiatan,(l,h)=>(c(),b("li",{key:h},u(l),1))),128))]),je,e(V,{data:m.data.asesmen_sumatif,border:"",class:"mb-4"},{default:a(()=>[e(r,{type:"index",width:"50"}),e(r,{label:"Perilaku yang teramati/IKTP",prop:"line.iktp"}),e(r,{label:"Muncul/Tidak Muncul"},{default:a(l=>[o(u(l.row.status??"-"),1)]),_:1}),e(r,{label:"Hasil Pengamatan"},{default:a(l=>[o(u(l.row.keterangan??"-"),1)]),_:1}),e(r,{align:"right",label:"Aksi",width:"200"},{default:a(l=>[e(_,{size:"small",type:"info",onClick:h=>d.editSumatif(l.row)},{default:a(()=>[He,o(" Ubah ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),e(U,{label:"Asesmen",name:"asesmen"},{default:a(()=>[(c(!0),b(S,null,E(m.data.asesmen,(l,h)=>(c(),b("div",{class:"p-4 border-bottom border-2",key:h},[s("div",Fe,[s("h3",Ke,u(h+1)+". "+u(l.anak.nama),1),s("div",Ie,[e(_,{type:"primary",onClick:p(g=>d.editAsesmen(l),["prevent"])},{default:a(()=>[Re,o(" Ubah ")]),_:2},1032,["onClick"]),e(_,{type:"danger",onClick:p(g=>d.hapusAsesmen(l.id),["prevent"])},{default:a(()=>[Ye,o(" Hapus ")]),_:2},1032,["onClick"])])]),e(V,{data:l.nilai,border:"",class:"mb-4"},{default:a(()=>[e(r,{type:"index",width:"50"}),e(r,{label:"IKTP",prop:"line.iktp"}),e(r,{label:"Muncul/Tidak",prop:"status",width:"140"},{default:a(g=>[o(u(g.row.status??"-"),1)]),_:1}),e(r,{label:"Hasil Pengamatan",prop:"keterangan"})]),_:2},1032,["data"]),s("div",ze,[Le,e(k,{gutter:20},{default:a(()=>[(c(!0),b(S,null,E(l.foto,(g,z)=>(c(),y(f,{md:4,key:z},{default:a(()=>[e(F,{src:g.path,"preview-src-list":l.foto.map(L=>L.path)},null,8,["src","preview-src-list"])]),_:2},1024))),128))]),_:2},1024)])]))),128))]),_:1})]),_:1},8,["modelValue"])])]),e(P,{modelValue:n.modalAwal,"onUpdate:modelValue":t[7]||(t[7]=l=>n.modalAwal=l),title:n.titleModalAwal,width:"40%",v:""},{default:a(()=>[x((c(),y(D,{model:n.formAwal,onSubmit:p(d.submitAwal,["prevent"]),"label-position":"top"},{default:a(()=>[e(A,{label:"Kegiatan",error:m.errors.kegiatan},{default:a(()=>[e(T,{modelValue:n.formAwal.kegiatan,"onUpdate:modelValue":t[4]||(t[4]=l=>n.formAwal.kegiatan=l),type:"textarea",rows:4},null,8,["modelValue"])]),_:1},8,["error"]),e(A,{label:"Hasil Pengamatan",error:m.errors.keterangan},{default:a(()=>[e(T,{modelValue:n.formAwal.keterangan,"onUpdate:modelValue":t[5]||(t[5]=l=>n.formAwal.keterangan=l),type:"textarea",rows:4},null,8,["modelValue"])]),_:1},8,["error"]),s("div",Ne,[s("div",Oe,[e(_,{onClick:t[6]||(t[6]=p(l=>n.modalAwal=!1,["prevent"]))},{default:a(()=>[Ge,o(" Batal ")]),_:1}),e(_,{type:"primary","native-type":"submit"},{default:a(()=>[We,o(" Simpan ")]),_:1})])])]),_:1},8,["model","onSubmit"])),[[B,n.loadingAwal]])]),_:1},8,["modelValue","title"]),e(P,{modelValue:n.modalSumatif,"onUpdate:modelValue":t[11]||(t[11]=l=>n.modalSumatif=l),title:"Ubah Asesmen Sumatif",width:"40%",v:""},{default:a(()=>[x((c(),y(D,{model:n.formSumatif,onSubmit:p(d.submitSumatif,["prevent"]),"label-position":"top"},{default:a(()=>[e(A,{error:m.errors.kegiatan},{default:a(()=>[e(j,{modelValue:n.formSumatif.status,"onUpdate:modelValue":t[8]||(t[8]=l=>n.formSumatif.status=l)},{default:a(()=>[e(M,{value:"Muncul"},{default:a(()=>[o("Muncul")]),_:1}),e(M,{value:"Tidak Muncul"},{default:a(()=>[o("Tidak Muncul")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["error"]),e(A,{label:"Hasil Pengamatan",error:m.errors.keterangan},{default:a(()=>[e(T,{modelValue:n.formSumatif.keterangan,"onUpdate:modelValue":t[9]||(t[9]=l=>n.formSumatif.keterangan=l),type:"textarea",rows:4},null,8,["modelValue"])]),_:1},8,["error"]),s("div",qe,[s("div",Je,[e(_,{onClick:t[10]||(t[10]=p(l=>n.modalSumatif=!1,["prevent"]))},{default:a(()=>[Qe,o(" Batal ")]),_:1}),e(_,{type:"primary","native-type":"submit"},{default:a(()=>[Xe,o(" Simpan ")]),_:1})])])]),_:1},8,["model","onSubmit"])),[[B,n.loadingSumatif]])]),_:1},8,["modelValue"]),e(P,{modelValue:n.modalAsesmen,"onUpdate:modelValue":t[15]||(t[15]=l=>n.modalAsesmen=l),title:n.titleModalAsesmen,width:"40%","close-on-click-modal":!1,"close-on-press-escape":!1},{default:a(()=>[x((c(),y(D,{model:n.formAsesmen,onSubmit:p(d.submitAsesmen,["prevent"]),"label-position":"top"},{default:a(()=>[e(A,{label:"Anak",error:m.errors.anak_id},{default:a(()=>[e(I,{modelValue:n.formAsesmen.anak_id,"onUpdate:modelValue":t[12]||(t[12]=l=>n.formAsesmen.anak_id=l),class:"w-100",hasParent:"",kelompok_id:m.data.kelompok_id},null,8,["modelValue","kelompok_id"])]),_:1},8,["error"]),(c(!0),b(S,null,E(n.formAsesmen.lines,(l,h)=>(c(),b(S,{key:h},[e(j,{modelValue:l.status,"onUpdate:modelValue":g=>l.status=g},{default:a(()=>[e(M,{value:"Muncul"},{default:a(()=>[o("Muncul")]),_:1}),e(M,{value:"Tidak Muncul"},{default:a(()=>[o("Tidak Muncul")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(A,{label:l.iktp,error:m.errors.keterangan},{default:a(()=>[e(T,{modelValue:l.keterangan,"onUpdate:modelValue":g=>l.keterangan=g,type:"textarea",rows:4,placeholder:"Masukan Anekdot"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","error"])],64))),128)),e(A,{label:"Foto Dokumentasi","label-width":"180px"},{default:a(()=>[e(R,{action:"#","file-list":n.formAsesmen.images,"onUpdate:fileList":t[13]||(t[13]=l=>n.formAsesmen.images=l),"on-remove":d.removeImage,"list-type":"picture-card","auto-upload":!1},{tip:a(()=>[$e]),default:a(()=>[Ze]),_:1},8,["file-list","on-remove"])]),_:1}),s("div",ea,[s("div",aa,[e(_,{onClick:t[14]||(t[14]=p(l=>n.modalAsesmen=!1,["prevent"]))},{default:a(()=>[ta,o(" Batal ")]),_:1}),e(_,{type:"primary","native-type":"submit"},{default:a(()=>[la,o(" Simpan ")]),_:1})])])]),_:1},8,["model","onSubmit"])),[[B,n.loadingAsesmen]])]),_:1},8,["modelValue","title"])]),_:1})}const Ua=N(de,[["render",sa]]);export{Ua as default};
