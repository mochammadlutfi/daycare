import{r as m,an as w,o as u,j as p,e as E,w as o,p as i,K as v,t as C,V as x,f as S,$ as b}from"./id-2e276a2e.js";import{E as B,a as D}from"./index-5bcbf47d.js";import{E as N}from"./index-593b96c3.js";const P={class:"w-100"},U={key:2,class:"text-danger fs-sm"},j=["src"],J={__name:"SingleFileUpload",props:{modelValue:{type:[String,File],default:null},inputClass:String,id:{type:String,default:""}},emits:["update:modelValue"],setup(g,{emit:r}){const _=g,n=m(""),d=m(!1),a=m(_.modelValue),f=e=>["application/pdf","image/jpeg","image/jpg","image/png"].includes(e.type)?e.size>1048576?(a.value=null,"Ukuran file tidak boleh lebih dari 1MB."):"":"Format file salah, hanya boleh PDF, JPG, JPEG, dan PNG.",h=e=>{const l=e.target.files[0],t=f(l);if(t)n.value=t,r("update:modelValue",null),a.value=null;else{n.value="";const s=new FileReader;s.onload=c=>{a.value=c.target.result},s.readAsDataURL(l),r("update:modelValue",l)}},V=()=>{d.value=!0},y=()=>{a.value=null,r("update:modelValue",null)};return w(()=>_.modelValue,e=>{e&&(n.value=f(e),a.value=e)}),(e,l)=>{const t=b,s=B,c=D,F=N;return u(),p("div",P,[a.value?(u(),E(c,{key:0,gutter:10},{default:o(()=>[i(s,{md:12},{default:o(()=>[i(t,{"native-type":"button",class:"w-100",onClick:V},{default:o(()=>[v(" Lihat ")]),_:1})]),_:1}),i(s,{md:12},{default:o(()=>[i(t,{"native-type":"button",class:"w-100",type:"danger",onClick:y},{default:o(()=>[v(" Hapus ")]),_:1})]),_:1})]),_:1})):(u(),p("input",{key:1,type:"file",class:"form-control",onChange:h},null,32)),n.value?(u(),p("div",U,C(n.value),1)):x("",!0),i(F,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=k=>d.value=k),title:"Detail File",class:"w-75 min-vh-100"},{default:o(()=>[S("iframe",{src:a.value,width:"100%",height:"100%",class:"min-vh-100"},null,8,j)]),_:1},8,["modelValue"])])}}};export{J as _};
