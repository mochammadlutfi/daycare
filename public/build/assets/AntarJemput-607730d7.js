import{h as q}from"./moment-fbc5633a.js";import{_ as z,K as L,a8 as V,m as P,o as r,e as b,w as s,f as t,a6 as A,j as m,n as B,p as a,t as l,F as w,U as k}from"./id-ebd2aa87.js";import{E as F,a as I}from"./index-3c7bf8db.js";import{E as K,a as M}from"./index-6077a84f.js";import{E as T}from"./index-4dfa613b.js";import{E as Y,a as U}from"./index-dd2d84f0.js";import{E as J}from"./index-cbe7639f.js";import{v as N}from"./directive-bba39c20.js";import{E as O}from"./index-3ff97c12.js";import"./index-c6134944.js";import"./event-9519ab40.js";import"./scroll-7f616a59.js";import"./index-1b306c27.js";import"./_initCloneObject-a8f0c4e6.js";import"./_baseIteratee-ec78b234.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-dc9d0eb3.js";import"./raf-04896134.js";import"./position-2769db94.js";const R={components:{},inject:["mq"],data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(o){var o=o??1;try{this.isLoading=!0;const i=await L.get(this.route("user.antarjemput.data"),{params:{page:o,limit:this.params.limit,q:this.params.q}});i.status==200&&(this.data=i.data.data,this.params.page=i.data.current_page,this.total=i.data.total,this.pageSize=i.data.per_page,this.from=i.data.from,this.to=i.data.to),this.isLoading=!1}catch(i){console.error(i)}},onClickRow(c,o,i){V.visit(this.route("admin.pegawai.show",{id:c.id}),{method:"get"})},selectAll(c){c.target.checked?this.dataList.data.forEach((o,i)=>{this.selected.push(o.id)}):this.selected=[]},format_date(c){if(c)return q(String(c)).format("DD MMM YYYY")}}},G={class:"content"},H=t("div",{class:"content-heading d-flex justify-content-between align-items-center"},[t("span",null,"AntarJemput"),t("div",{class:"space-x-1"})],-1),Q={class:"block rounded"},W=t("span",null,[t("i",{class:"fa fa-search"})],-1),X={key:0,class:"block-content p-0"},Z={key:1,class:"block-content p-0"},$={class:"d-flex justify-content-between align-items-center"},ee=t("div",{class:"fs-5 fw-semibold"},"Tanggal",-1),te={class:"fs-5"},ae={class:"d-flex justify-content-between align-items-center"},se=t("div",{class:"fs-5 fw-semibold"},"Pengasuh",-1),oe={class:"fs-5"},le={class:"d-flex justify-content-between align-items-center"},ne=t("div",{class:"fs-5 fw-semibold"},"Kelompok",-1),ie={class:"fs-5"},re={class:"d-flex justify-content-between align-items-center"},ce=t("div",{class:"fs-5 fw-semibold"},"Anak",-1),de={class:"fs-5"},me={class:"block-content py-2"},pe={class:"my-auto text-xs"};function _e(c,o,i,ue,n,d){const g=F,x=I,p=K,E=T,f=M,h=Y,y=O,j=U,C=J,D=P("user-layout"),S=N;return r(),b(D,null,{default:s(()=>[t("div",G,[H,A((r(),m("div",Q,[t("div",{class:B(["block-content py-3",{"border-bottom border-3":!d.mq.smPlus}])},[a(f,{justify:"space-between",gutter:10},{default:s(()=>[a(p,{md:4,xs:6,sm:4},{default:s(()=>[a(x,{modelValue:n.params.limit,"onUpdate:modelValue":o[0]||(o[0]=e=>n.params.limit=e),placeholder:"Pilih",class:"w-100",onChange:o[1]||(o[1]=e=>d.fetchData(1))},{default:s(()=>[a(g,{label:"25",value:"25"}),a(g,{label:"50",value:"50"}),a(g,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),a(p,{md:7,xs:18,sm:20},{default:s(()=>[a(E,{modelValue:n.params.q,"onUpdate:modelValue":o[2]||(o[2]=e=>n.params.q=e),onInput:d.doSearch,clearable:""},{prefix:s(()=>[W]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})],2),d.mq.smPlus?(r(),m("div",X,[a(j,{data:n.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:s(()=>[a(h,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:s(e=>[t("div",null,l(d.format_date(e.row.tgl)),1)]),_:1}),a(h,{label:"Anak","header-align":"center"},{default:s(e=>[t("div",null,l(e.row.anak.nama),1),t("div",null,"Kelompok "+l(e.row.kelompok.nama)+" ("+l(e.row.kelompok.usia)+")",1)]),_:1}),a(h,{label:"Pengasuh","header-align":"center"},{default:s(e=>[t("div",null,l(e.row.admin.nama),1)]),_:1}),a(h,{label:"Foto Bukti","header-align":"center"},{default:s(e=>[a(f,{gutter:20},{default:s(()=>[(r(!0),m(w,null,k(e.row.foto,(v,u)=>(r(),b(p,{md:8,key:u},{default:s(()=>[a(y,{src:v.path,lazy:"","preview-src-list":e.row.foto_list,"preview-teleported":"","initial-index":u},null,8,["src","preview-src-list","initial-index"])]),_:2},1024))),128))]),_:2},1024)]),_:1})]),_:1},8,["data"])])):(r(),m("div",Z,[(r(!0),m(w,null,k(n.data,e=>(r(),m("div",{class:"border-bottom border-3 p-3 text-dark",key:e.id},[t("div",$,[ee,t("div",te,l(d.format_date(e.tgl))+" "+l(e.jam),1)]),t("div",ae,[se,t("div",oe,l(e.admin.nama),1)]),t("div",le,[ne,t("div",ie,"Kelompok "+l(e.kelompok.nama)+" ("+l(e.kelompok.usia)+")",1)]),t("div",re,[ce,t("div",de,l(e.anak.nama),1)]),a(f,{gutter:20,class:"mt-4"},{default:s(()=>[(r(!0),m(w,null,k(e.foto,(v,u)=>(r(),b(p,{span:8,key:u},{default:s(()=>[a(y,{src:v.path,lazy:"","preview-src-list":e.foto_list,"preview-teleported":"","initial-index":u},null,8,["src","preview-src-list","initial-index"])]),_:2},1024))),128))]),_:2},1024)]))),128))])),t("div",me,[a(f,{justify:"space-between"},{default:s(()=>[a(p,{lg:12,class:"d-flex"},{default:s(()=>[t("p",pe,"Menampilkan "+l(n.from)+" sampai "+l(n.to)+" dari "+l(n.total),1)]),_:1}),a(p,{lg:12,class:"text-end"},{default:s(()=>[a(C,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])),[[S,n.isLoading]])])]),_:1})}const Ae=z(R,[["render",_e]]);export{Ae as default};
