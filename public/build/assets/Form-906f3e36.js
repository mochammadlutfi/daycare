import{S as E}from"./SelectKelompok-aa48e4f9.js";import{S as y}from"./SelectAnak-c69df3f0.js";import{_ as w,y as u,m as d,o as _,e as M,w as t,f as i,p as e,t as Y,a5 as B,g as S,L as x,j as U,$ as F}from"./id-1c1e2a8a.js";import{E as H}from"./index-113a3983.js";import{E as T,a as J}from"./index-dfa584b8.js";import{E as A,a as C}from"./index-b29a4ac8.js";import{E as I}from"./index-e3d082aa.js";import{E as K}from"./index-e444718b.js";import{v as L}from"./directive-d6b9c9af.js";import"./index-e88e0ccf.js";import"./index-82c08022.js";import"./index-9517473f.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./scroll-3dccf429.js";import"./index-3f637f53.js";import"./_initCloneObject-9c7c6a23.js";import"./_baseIteratee-5480d325.js";import"./panel-time-pick-7af420fe.js";import"./utils-8b8f2a61.js";import"./localeData-ef2a03d0.js";import"./isArrayLikeObject-63f78cbe.js";const N={components:{SelectKelompok:E,SelectAnak:y},props:{value:{type:Object},editMode:{type:Boolean,default:!1},errors:{type:Object}},data(){return{title:"Tambah Antar Jemput",disableKota:!1,form:{tgl:new u().format(),jam:new u().format(),kelompok_id:null,anak_id:null,keterangan:null},images:[],imagesDeleted:[],loading:!1}},created(){this.editMode&&this.setValue()},methods:{setValue(){this.title="Ubah Antar Jemput",this.form.id=this.value.id,this.form.kelompok_id=this.value.kelompok_id,this.form.anak_id=this.value.anak_id,this.form.tgl=this.value.tgl,this.form.jam=this.value.jam,this.value.foto.length&&this.value.foto.forEach(s=>{this.images.push({name:s.nama,url:s.path})})},submit(){this.loading=!0;let s=Object.assign(this.form,{images:this.images,imagesDeleted:this.imagesDeleted}),l=this.$inertia.form(s),m=this.editMode===!0?this.route("admin.antarjemput.update",{id:this.value.id}):this.route("admin.antarjemput.store");l.post(m,{preserveScroll:!0,onFinish:()=>{this.loading=!1},onSuccess:()=>{}})},removeImage(s,l){this.imagesDeleted.push(s)}}},O={class:"content"},P={class:"content-heading d-flex justify-content-between align-items-center"},R={class:"block rounded"},q={class:"block-content p-4"},z=i("span",{class:"fs-xs"},"Tanggal Bisa Diketik atau dipilih (DD-MM-YYYY)",-1),G=i("span",{class:"fs-xs"},"Jam Bisa Diketik atau dipilih (HH:MM)",-1),Q=i("i",{class:"fa fa-plus"},null,-1),W=i("div",{class:"el-upload__tip"}," file jpg/png kurang dari 1MB ",-1),X=i("i",{class:"fa fa-check me-2"},null,-1);function Z(s,l,m,$,o,p){const f=H,r=T,n=A,c=I,k=d("select-kelompok"),h=d("select-anak"),g=C,b=K,v=F,V=J,j=d("base-layout"),D=L;return _(),M(j,null,{default:t(()=>[i("div",O,[e(V,{"label-position":"top","label-width":"100%",onSubmit:U(p.submit,["prevent"])},{default:t(()=>[i("div",P,[i("span",null,Y(o.title),1)]),i("div",R,[B((_(),S("div",q,[e(g,{gutter:40},{default:t(()=>[e(n,{md:12},{default:t(()=>[e(r,{label:"Tanggal",error:m.errors.tgl},{default:t(()=>[e(f,{modelValue:o.form.tgl,"onUpdate:modelValue":l[0]||(l[0]=a=>o.form.tgl=a),type:"date",placeholder:"Tanggal",format:"DD-MM-YYYY","value-format":"YYYY-MM-DD",class:"w-100"},null,8,["modelValue"]),z]),_:1},8,["error"])]),_:1}),e(n,{md:12},{default:t(()=>[e(r,{label:"Jam",error:m.errors.tgl},{default:t(()=>[e(c,{modelValue:o.form.jam,"onUpdate:modelValue":l[1]||(l[1]=a=>o.form.jam=a),placeholder:"Jam",format:"HH:mm","value-format":"HH:mm:ss",class:"w-100"},null,8,["modelValue"]),G]),_:1},8,["error"])]),_:1}),e(n,{md:12},{default:t(()=>[e(r,{label:"Kelompok",error:m.errors.kelompok_id},{default:t(()=>[e(k,{modelValue:o.form.kelompok_id,"onUpdate:modelValue":l[2]||(l[2]=a=>o.form.kelompok_id=a),anjem:""},null,8,["modelValue"])]),_:1},8,["error"])]),_:1}),e(n,{md:12},{default:t(()=>[e(r,{label:"Anak",error:m.errors.anak_id},{default:t(()=>[e(h,{modelValue:o.form.anak_id,"onUpdate:modelValue":l[3]||(l[3]=a=>o.form.anak_id=a),disabled:!o.form.kelompok_id,anjem:"",hasParent:"",kelompok_id:o.form.kelompok_id},null,8,["modelValue","disabled","kelompok_id"])]),_:1},8,["error"])]),_:1})]),_:1}),e(r,{class:"mb-4",label:"Foto Bukti","label-width":"180px"},{default:t(()=>[e(b,{action:"#","file-list":o.images,"onUpdate:fileList":l[4]||(l[4]=a=>o.images=a),limit:1,"on-remove":p.removeImage,"list-type":"picture-card","auto-upload":!1},{tip:t(()=>[W]),default:t(()=>[Q]),_:1},8,["file-list","on-remove"])]),_:1}),e(v,{"native-type":"submit",type:"primary",loading:o.loading},{default:t(()=>[X,x(" Simpan ")]),_:1},8,["loading"])])),[[D,o.loading]])])]),_:1},8,["onSubmit"])])]),_:1})}const je=w(N,[["render",Z]]);export{je as default};
