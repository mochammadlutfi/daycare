import{_ as E,J as D,m as S,o as r,e as j,w as o,f as e,a5 as C,j as c,n as L,p as a,K as h,t as l,F as V,S as q}from"./id-44e39273.js";import{h as T}from"./moment-fbc5633a.js";import{E as B,a as z}from"./index-88bb1aa7.js";import{E as A,a as N}from"./index-84ed3e91.js";import{E as P}from"./index-4ea0d70f.js";import{E as I,a as M}from"./index-b7b101e9.js";import{E as Y}from"./index-11481b41.js";import{v as F}from"./directive-cd218522.js";import"./index-10bd6a9f.js";import"./event-9519ab40.js";import"./scroll-bd36456a.js";import"./index-9f983416.js";import"./_initCloneObject-24df7827.js";import"./_baseIteratee-982954bc.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-b43587b5.js";import"./raf-3ca20a2c.js";const U={components:{},inject:["mq"],data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(n){var n=n??1;try{this.isLoading=!0;const i=await D.get(this.route("user.aktivitas.data"),{params:{page:n,limit:this.params.limit,q:this.params.q}});i.status==200&&(this.data=i.data.data,this.params.page=i.data.current_page,this.total=i.data.total,this.pageSize=i.data.per_page,this.from=i.data.from,this.to=i.data.to),this.isLoading=!1}catch(i){console.error(i)}},selectAll(d){d.target.checked?this.dataList.data.forEach((n,i)=>{this.selected.push(n.id)}):this.selected=[]},format_date(d){if(d)return T(String(d)).format("DD MMM YYYY")}}},J={class:"content"},K=e("div",{class:"content-heading d-flex justify-content-between align-items-center"},[e("span",null,"Aktivitas"),e("div",{class:"space-x-1"})],-1),O={class:"block rounded"},R=e("span",null,[e("i",{class:"fa fa-search"})],-1),G={key:0,class:"block-content p-0"},H={key:0,class:"badge bg-primary"},Q={key:1,class:"badge bg-danger"},W=["href"],X=e("i",{class:"fa fa-eye me-1"},null,-1),Z={key:1,class:"block-content p-0"},$={class:"d-flex justify-content-between align-items-center"},ee=e("div",{class:"fs-5 fw-semibold"},"Nomor",-1),te={class:"fs-5"},ae={class:"d-flex justify-content-between align-items-center"},se=e("div",{class:"fs-5 fw-semibold"},"Tanggal",-1),oe={class:"fs-5"},ne={class:"d-flex justify-content-between align-items-center"},ie=e("div",{class:"fs-5 fw-semibold"},"Pengasuh",-1),le={class:"fs-5"},re={class:"d-flex justify-content-between align-items-center"},ce=e("div",{class:"fs-5 fw-semibold"},"Anak",-1),de={class:"fs-5"},me={class:"d-flex justify-content-between align-items-center"},_e=e("div",{class:"fs-5 fw-semibold"},"Berat",-1),pe={class:"fs-5"},fe={key:1,class:"border-bottom border-3 p-3 text-dark"},ue=e("div",{class:"text-center"}," Tidak ada data ",-1),he=[ue],ge={class:"block-content py-2"},be={class:"my-auto text-xs"};function ve(d,n,i,ye,s,m){const u=B,b=z,f=A,v=P,g=N,p=I,y=M,k=Y,w=S("user-layout"),x=F;return r(),j(w,{title:"Aktivitas"},{default:o(()=>[e("div",J,[K,C((r(),c("div",O,[e("div",{class:L(["block-content py-3",{"border-bottom border-3":!m.mq.smPlus}])},[a(g,{justify:"space-between",gutter:10},{default:o(()=>[a(f,{md:4,xs:6,sm:4},{default:o(()=>[a(b,{modelValue:s.params.limit,"onUpdate:modelValue":n[0]||(n[0]=t=>s.params.limit=t),placeholder:"Pilih",class:"w-100",onChange:n[1]||(n[1]=t=>m.fetchData(1))},{default:o(()=>[a(u,{label:"25",value:"25"}),a(u,{label:"50",value:"50"}),a(u,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),a(f,{md:7,xs:18,sm:20},{default:o(()=>[a(v,{modelValue:s.params.q,"onUpdate:modelValue":n[2]||(n[2]=t=>s.params.q=t),onInput:m.doSearch,clearable:""},{prefix:o(()=>[R]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})],2),m.mq.smPlus?(r(),c("div",G,[a(y,{data:s.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:o(()=>[a(p,{prop:"nomor",label:"Nomor",width:"220","header-align":"center"}),a(p,{prop:"anak.nama",label:"Anak"}),a(p,{label:"Tanggal Tempo",align:"center"},{default:o(t=>[h(l(m.format_date(t.row.tgl_tempo)),1)]),_:1}),a(p,{label:"Status",align:"center"},{default:o(t=>[t.row.status=="paid"?(r(),c("span",H," Lunas ")):(r(),c("span",Q," Belum Bayar "))]),_:1}),a(p,{label:"Total",align:"center"},{default:o(t=>[h(l(d.currency(t.row.total)),1)]),_:1}),a(p,{label:"Aksi",align:"center",width:"180"},{default:o(t=>[e("a",{href:d.route("user.invoice.show",{id:t.row.id}),class:"ep-button ep-button--primary"},[X,h(" Detail ")],8,W)]),_:1})]),_:1},8,["data"])])):(r(),c("div",Z,[s.data.length?(r(!0),c(V,{key:0},q(s.data,t=>(r(),c("div",{class:"border-bottom border-3 p-3 text-dark",key:t.id},[e("div",$,[ee,e("div",te,l(t.nomor),1)]),e("div",ae,[se,e("div",oe,l(m.format_date(t.laundry.tgl)),1)]),e("div",ne,[ie,e("div",le,l(t.laundry.admin.nama),1)]),e("div",re,[ce,e("div",de,l(t.anak.nama),1)]),e("div",me,[_e,e("div",pe,l(t.berat)+" gram",1)])]))),128)):(r(),c("div",fe,he))])),e("div",ge,[a(g,{justify:"space-between"},{default:o(()=>[a(f,{lg:12,class:"d-flex"},{default:o(()=>[e("p",be,"Menampilkan "+l(s.from)+" sampai "+l(s.to)+" dari "+l(s.total),1)]),_:1}),a(f,{lg:12,class:"text-end"},{default:o(()=>[a(k,{class:"float-end",background:"",layout:"prev, pager, next","page-size":s.pageSize,total:s.total,"current-page":s.page,onCurrentChange:m.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])),[[x,s.isLoading]])])]),_:1})}const Ie=E(U,[["render",ve]]);export{Ie as default};
