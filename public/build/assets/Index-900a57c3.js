import{_ as E,K as D,m as L,o as i,e as C,w as s,f as a,a6 as S,j as r,p as t,W as V,L as h,t as d,F as q,U as B}from"./id-97c9e5f5.js";import{h as j}from"./moment-fbc5633a.js";import{E as I,a as T}from"./index-bcb34dd7.js";import{E as z,a as N}from"./index-1567bcf2.js";import{E as M}from"./index-ae963a16.js";import{E as P,a as Y}from"./index-ec964314.js";import{E as A}from"./index-de85108f.js";import{v as F}from"./directive-7739a56c.js";import"./index-4a89f490.js";import"./event-9519ab40.js";import"./scroll-1fa1a40e.js";import"./index-91a35dc4.js";import"./_initCloneObject-9298e566.js";import"./_baseIteratee-2fd9a4cf.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-55c2e828.js";import"./raf-85a89f42.js";const U={components:{},inject:["mq"],data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(o){var o=o??1;try{this.isLoading=!0;const l=await D.get(this.route("user.invoice.data"),{params:{page:o,limit:this.params.limit,q:this.params.q}});l.status==200&&(this.data=l.data.data,this.params.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page,this.from=l.data.from,this.to=l.data.to),this.isLoading=!1}catch(l){console.error(l)}},selectAll(c){c.target.checked?this.dataList.data.forEach((o,l)=>{this.selected.push(o.id)}):this.selected=[]},format_date(c){if(c)return j(String(c)).format("DD MMM YYYY")}}},K={class:"content"},O=a("div",{class:"content-heading d-flex justify-content-between align-items-center"},[a("span",null,"Invoice"),a("div",{class:"space-x-1"})],-1),R={class:"block rounded"},W={key:0,class:"block-content py-3"},G=a("span",null,[a("i",{class:"fa fa-search"})],-1),H={key:1,class:"block-content p-0"},J={key:0,class:"badge bg-primary"},Q={key:1,class:"badge bg-danger"},X=["href"],Z=a("i",{class:"fa fa-eye me-1"},null,-1),$={key:2,class:"block-content p-0"},ee=["href"],te={class:"border-bottom border-3 p-3 text-dark"},ae={class:"d-flex justify-content-between"},se={class:"fs-5 fw-bold"},oe={class:"text-end"},ne={key:0,class:"badge bg-primary"},le={key:1,class:"badge bg-danger"},ie={class:"d-flex justify-content-between align-items-center"},re={class:"fs-5"},ce={class:"fs-5"},de={class:"fw-bold fs-4 text-primary"},pe={class:"block-content py-2"},me={class:"my-auto text-xs"};function _e(c,o,l,ue,n,p){const f=I,b=T,u=z,y=M,g=N,m=P,v=Y,k=A,w=L("user-layout"),x=F;return i(),C(w,{title:"Invoice"},{default:s(()=>[a("div",K,[O,S((i(),r("div",R,[p.mq.smPlus?(i(),r("div",W,[t(g,{justify:"space-between"},{default:s(()=>[t(u,{span:12},{default:s(()=>[t(b,{modelValue:n.params.limit,"onUpdate:modelValue":o[0]||(o[0]=e=>n.params.limit=e),placeholder:"Pilih",style:{width:"115px"},onChange:o[1]||(o[1]=e=>p.fetchData(1))},{default:s(()=>[t(f,{label:"25",value:"25"}),t(f,{label:"50",value:"50"}),t(f,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),t(u,{span:7},{default:s(()=>[t(y,{modelValue:n.params.q,"onUpdate:modelValue":o[2]||(o[2]=e=>n.params.q=e),onInput:p.doSearch,clearable:""},{prefix:s(()=>[G]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})])):V("",!0),p.mq.smPlus?(i(),r("div",H,[t(v,{data:n.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:s(()=>[t(m,{prop:"nomor",label:"Nomor",width:"220","header-align":"center"}),t(m,{prop:"anak.nama",label:"Anak"}),t(m,{label:"Tanggal Tempo",align:"center"},{default:s(e=>[h(d(p.format_date(e.row.tgl_tempo)),1)]),_:1}),t(m,{label:"Status",align:"center"},{default:s(e=>[e.row.status=="paid"?(i(),r("span",J," Lunas ")):(i(),r("span",Q," Belum Bayar "))]),_:1}),t(m,{label:"Total",align:"center"},{default:s(e=>[h(d(c.currency(e.row.total)),1)]),_:1}),t(m,{label:"Aksi",align:"center",width:"180"},{default:s(e=>[a("a",{href:c.route("user.invoice.show",{id:e.row.id}),class:"ep-button ep-button--primary"},[Z,h(" Detail ")],8,X)]),_:1})]),_:1},8,["data"])])):(i(),r("div",$,[(i(!0),r(q,null,B(n.data,e=>(i(),r("a",{href:c.route("user.invoice.show",{id:e.id}),key:e.id},[a("div",te,[a("div",ae,[a("div",se,d(e.nomor),1),a("div",oe,[e.status=="paid"?(i(),r("span",ne," Lunas ")):(i(),r("span",le," Belum Bayar "))])]),a("div",ie,[a("div",null,[a("div",re,d(e.anak.nama),1),a("div",ce,d(p.format_date(e.tgl_tempo)),1)]),a("div",de,d(c.currency(e.total)),1)])])],8,ee))),128))])),a("div",pe,[t(g,{justify:"space-between"},{default:s(()=>[t(u,{lg:12,class:"d-flex"},{default:s(()=>[a("p",me,"Menampilkan "+d(n.from)+" sampai "+d(n.to)+" dari "+d(n.total),1)]),_:1}),t(u,{lg:12,class:"text-end"},{default:s(()=>[t(k,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:p.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])),[[x,n.isLoading]])])]),_:1})}const je=E(U,[["render",_e]]);export{je as default};
