import{_ as D,K as S,m as C,o as m,e as g,w as t,f as o,p as e,a5 as L,L as f,t as c,g as b}from"./id-1c1e2a8a.js";import{h as V}from"./moment-fbc5633a.js";import{E as B,a as T}from"./index-e88e0ccf.js";import{E as q,a as z}from"./index-b29a4ac8.js";import{E as A}from"./index-9517473f.js";import{E as I,a as M}from"./index-20a8f229.js";import{E as N}from"./index-8d957708.js";import{v as Y}from"./directive-d6b9c9af.js";import"./index-82c08022.js";import"./event-9519ab40.js";import"./scroll-3dccf429.js";import"./index-3f637f53.js";import"./_initCloneObject-9c7c6a23.js";import"./_baseIteratee-5480d325.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-63f78cbe.js";import"./raf-a63b4db6.js";const j={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const n=await S.get(this.route("user.invoice.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});n.status==200&&(this.data=n.data.data,this.params.page=n.data.current_page,this.total=n.data.total,this.pageSize=n.data.per_page,this.from=n.data.from,this.to=n.data.to),this.isLoading=!1}catch(n){console.error(n)}},selectAll(i){i.target.checked?this.dataList.data.forEach((a,n)=>{this.selected.push(a.id)}):this.selected=[]},format_date(i){if(i)return V(String(i)).format("DD MMM YYYY")}}},P={class:"content"},U=o("div",{class:"content-heading d-flex justify-content-between align-items-center"},[o("span",null,"Aktivitas"),o("div",{class:"space-x-1"})],-1),F={class:"block rounded"},K={class:"block-content py-3"},O=o("span",null,[o("i",{class:"fa fa-search"})],-1),R={class:"block-content p-0"},G={key:0,class:"badge bg-primary"},H={key:1,class:"badge bg-danger"},J=["href"],Q=o("i",{class:"fa fa-eye me-1"},null,-1),W={class:"block-content py-2"},X={class:"my-auto text-xs"};function Z(i,a,n,$,s,p){const u=B,y=T,d=q,v=A,h=z,r=I,w=M,k=N,x=C("user-layout"),E=Y;return m(),g(x,null,{default:t(()=>[o("div",P,[U,o("div",F,[o("div",K,[e(h,{justify:"space-between"},{default:t(()=>[e(d,{span:12},{default:t(()=>[e(y,{modelValue:s.params.limit,"onUpdate:modelValue":a[0]||(a[0]=l=>s.params.limit=l),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=l=>p.fetchData(1))},{default:t(()=>[e(u,{label:"25",value:"25"}),e(u,{label:"50",value:"50"}),e(u,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:7},{default:t(()=>[e(v,{modelValue:s.params.q,"onUpdate:modelValue":a[2]||(a[2]=l=>s.params.q=l),onInput:p.doSearch,clearable:""},{prefix:t(()=>[O]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),o("div",R,[L((m(),g(w,{data:s.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:t(()=>[e(r,{prop:"nomor",label:"Nomor",width:"220","header-align":"center"}),e(r,{prop:"user.nama",label:"Pengguna"}),e(r,{prop:"anak.nama",label:"Anak"}),e(r,{label:"Tanggal Tempo",align:"center"},{default:t(l=>[f(c(p.format_date(l.row.tgl_tempo)),1)]),_:1}),e(r,{label:"Status",align:"center"},{default:t(l=>[l.row.status=="paid"?(m(),b("span",G," Lunas ")):(m(),b("span",H," Belum Bayar "))]),_:1}),e(r,{label:"Total",align:"center"},{default:t(l=>[f(c(i.currency(l.row.total)),1)]),_:1}),e(r,{label:"Aksi",align:"center",width:"180"},{default:t(l=>[o("a",{href:i.route("user.invoice.show",{id:l.row.id}),class:"ep-button ep-button--primary"},[Q,f(" Detail ")],8,J)]),_:1})]),_:1},8,["data"])),[[E,s.isLoading]])]),o("div",W,[e(h,{justify:"space-between"},{default:t(()=>[e(d,{lg:12,class:"d-flex"},{default:t(()=>[o("p",X,"Menampilkan "+c(s.from)+" sampai "+c(s.to)+" dari "+c(s.total),1)]),_:1}),e(d,{lg:12,class:"text-end"},{default:t(()=>[e(k,{class:"float-end",background:"",layout:"prev, pager, next","page-size":s.pageSize,total:s.total,"current-page":s.page,onCurrentChange:p.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const ge=D(j,[["render",Z]]);export{ge as default};
