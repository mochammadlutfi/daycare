import{S as E}from"./SelectKelompok-18afe301.js";import{S as y}from"./SelectAnak-a8cba912.js";import{_ as w,y as u,m as d,o as _,e as M,w as t,f as i,p as e,t as Y,a5 as B,j as S,K as x,g as U,$ as F}from"./id-44e39273.js";import{E as H}from"./index-ebf98ed5.js";import{E as T,a as J}from"./index-aa7e31ad.js";import{E as A,a as K}from"./index-84ed3e91.js";import{E as C}from"./index-3fcc0242.js";import{E as I}from"./index-05c477a1.js";import{v as N}from"./directive-cd218522.js";import"./index-88bb1aa7.js";import"./index-10bd6a9f.js";import"./index-4ea0d70f.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./scroll-bd36456a.js";import"./index-9f983416.js";import"./_initCloneObject-24df7827.js";import"./_baseIteratee-982954bc.js";import"./panel-time-pick-f24324ab.js";import"./utils-d95efb42.js";import"./localeData-212d917f.js";import"./isArrayLikeObject-b43587b5.js";const O={components:{SelectKelompok:E,SelectAnak:y},props:{value:{type:Object},editMode:{type:Boolean,default:!1},errors:{type:Object}},data(){return{title:"Tambah Antar Jemput",disableKota:!1,form:{tgl:new u().format(),jam:new u().format(),kelompok_id:null,anak_id:null,keterangan:null},images:[],imagesDeleted:[],loading:!1}},created(){this.editMode&&this.setValue()},methods:{setValue(){this.title="Ubah Antar Jemput",this.form.id=this.value.id,this.form.kelompok_id=this.value.kelompok_id,this.form.anak_id=this.value.anak_id,this.form.tgl=this.value.tgl,this.form.jam=this.value.jam,this.value.foto.length&&this.value.foto.forEach(s=>{this.images.push({name:s.nama,url:s.path})})},submit(){this.loading=!0;let s=Object.assign(this.form,{images:this.images,imagesDeleted:this.imagesDeleted}),l=this.$inertia.form(s),m=this.editMode===!0?this.route("admin.antarjemput.update",{id:this.value.id}):this.route("admin.antarjemput.store");l.post(m,{preserveScroll:!0,onFinish:()=>{this.loading=!1},onSuccess:()=>{}})},removeImage(s,l){this.imagesDeleted.push(s)}}},P={class:"content"},L={class:"content-heading d-flex justify-content-between align-items-center"},R={class:"block rounded"},q={class:"block-content p-4"},z=i("span",{class:"fs-xs"},"Tanggal Bisa Diketik atau dipilih (DD-MM-YYYY)",-1),G=i("span",{class:"fs-xs"},"Jam Bisa Diketik atau dipilih (HH:MM)",-1),Q=i("i",{class:"fa fa-plus"},null,-1),W=i("div",{class:"el-upload__tip"}," file jpg/png kurang dari 1MB ",-1),X=i("i",{class:"fa fa-check me-2"},null,-1);function Z(s,l,m,$,o,p){const f=H,r=T,n=A,c=C,k=d("select-kelompok"),h=d("select-anak"),g=K,b=I,v=F,V=J,j=d("base-layout"),D=N;return _(),M(j,null,{default:t(()=>[i("div",P,[e(V,{"label-position":"top","label-width":"100%",onSubmit:U(p.submit,["prevent"])},{default:t(()=>[i("div",L,[i("span",null,Y(o.title),1)]),i("div",R,[B((_(),S("div",q,[e(g,{gutter:40},{default:t(()=>[e(n,{md:12},{default:t(()=>[e(r,{label:"Tanggal",error:m.errors.tgl},{default:t(()=>[e(f,{modelValue:o.form.tgl,"onUpdate:modelValue":l[0]||(l[0]=a=>o.form.tgl=a),type:"date",placeholder:"Tanggal",format:"DD-MM-YYYY","value-format":"YYYY-MM-DD",class:"w-100"},null,8,["modelValue"]),z]),_:1},8,["error"])]),_:1}),e(n,{md:12},{default:t(()=>[e(r,{label:"Jam",error:m.errors.tgl},{default:t(()=>[e(c,{modelValue:o.form.jam,"onUpdate:modelValue":l[1]||(l[1]=a=>o.form.jam=a),placeholder:"Jam",format:"HH:mm","value-format":"HH:mm:ss",class:"w-100"},null,8,["modelValue"]),G]),_:1},8,["error"])]),_:1}),e(n,{md:12},{default:t(()=>[e(r,{label:"Kelompok",error:m.errors.kelompok_id},{default:t(()=>[e(k,{modelValue:o.form.kelompok_id,"onUpdate:modelValue":l[2]||(l[2]=a=>o.form.kelompok_id=a),anjem:""},null,8,["modelValue"])]),_:1},8,["error"])]),_:1}),e(n,{md:12},{default:t(()=>[e(r,{label:"Anak",error:m.errors.anak_id},{default:t(()=>[e(h,{modelValue:o.form.anak_id,"onUpdate:modelValue":l[3]||(l[3]=a=>o.form.anak_id=a),disabled:!o.form.kelompok_id,anjem:"",hasParent:"",kelompok_id:o.form.kelompok_id},null,8,["modelValue","disabled","kelompok_id"])]),_:1},8,["error"])]),_:1})]),_:1}),e(r,{class:"mb-4",label:"Foto Bukti","label-width":"180px"},{default:t(()=>[e(b,{action:"#","file-list":o.images,"onUpdate:fileList":l[4]||(l[4]=a=>o.images=a),limit:1,"on-remove":p.removeImage,"list-type":"picture-card","auto-upload":!1},{tip:t(()=>[W]),default:t(()=>[Q]),_:1},8,["file-list","on-remove"])]),_:1}),e(v,{"native-type":"submit",type:"primary",loading:o.loading},{default:t(()=>[X,x(" Simpan ")]),_:1},8,["loading"])])),[[D,o.loading]])])]),_:1},8,["onSubmit"])])]),_:1})}const je=w(O,[["render",Z]]);export{je as default};
