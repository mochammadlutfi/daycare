import{S as V}from"./SelectKelompok-aa48e4f9.js";import{_ as C,y as r,m as T,o as f,e as w,w as a,f as s,g as b,p as t,L as l,F as v,W as D,t as n,a9 as S,U as j,$ as N}from"./id-1c1e2a8a.js";import{E as B}from"./index-86db54a9.js";import{E as L,a as F}from"./index-b29a4ac8.js";import{E as K,a as U}from"./index-117b0619.js";import{E as Y,a as O}from"./index-dfa584b8.js";import{E as J}from"./index-9517473f.js";import{E as H}from"./index-7b664227.js";import"./index-e88e0ccf.js";import"./index-82c08022.js";import"./event-9519ab40.js";import"./scroll-3dccf429.js";import"./index-3f637f53.js";import"./_initCloneObject-9c7c6a23.js";import"./_baseIteratee-5480d325.js";import"./typescript-defaf979.js";import"./vnode-6226af66.js";import"./index-960b7304.js";const R={components:{SelectKelompok:V},props:{data:{type:Object},invoice:{type:Object},errors:{type:Object}},data(){return{showModal:!1,modalTitle:"Terima Pendaftaran",loadingForm:!1,form:{kelompok_id:null,status:null,alasan:null},activeTab:"anak",ageInMonths:null}},mounted(){const _=new r(this.data.tgl_lahir),i=new r;this.ageInMonths=i.diff(_,"month")},methods:{openModal(_){this.form.status=_,this.showModal=!0,this.modalTitle=_=="terima"?"Terima Pendaftaran":"Tolak Pendaftaran"},closeModal(){this.modalTitle="Terima Pendaftaran",this.form.status=null,this.form.kelompok_id=null,this.form.alasan=null,this.showModal=!1},updateTab(_,i){console.log(_,i)},submit(){this.loadingForm=!0,this.$inertia.form(this.form).post(this.route("admin.register.update",{id:this.data.id}),{preserveScroll:!0,onFinish:()=>{this.loadingForm=!1},onSuccess:()=>{B({type:"success",message:"Data Berhasil Disimpan!"}),this.onCloseForm()}})},format_date(_){if(_)return r(String(_)).format("DD MMM YYYY")},get_umur(_){if(this.ageInMonths>12){const i=new r(_),g=new r().diff(i,"year");return g+" Tahun "+(this.ageInMonths-12*g)+" Bulan"}else return this.ageInMonths/12+" Bulan"}}},W={class:"content"},z={class:"content-heading d-flex justify-content-between align-items-center"},q=s("span",null,"Detail Anak",-1),G={class:"space-x-1"},Q=s("i",{class:"fa fa-check me-2"},null,-1),X=s("i",{class:"fa fa-close me-2"},null,-1),Z={class:"block-content"},$={class:"fw-semibold"},aa={class:"fw-semibold"},ta={class:"fw-semibold"},ea={class:"fw-semibold"},la={class:"fw-semibold"},sa={class:"fw-semibold"},da={class:"fw-semibold"},na={class:"fw-semibold"},oa={class:"fw-semibold"},ia={class:"fw-semibold"},_a={class:"fw-semibold"},ma={class:"fw-semibold"},ua={class:"fw-semibold"},ca={class:"block-content"},fa={class:"fw-semibold"},ra={class:"fw-semibold"},ba={class:"fw-semibold"},ha={class:"fw-semibold"},ga={class:"fw-semibold"},ka={class:"fw-semibold"},wa={class:"fw-semibold"},pa={class:"fw-semibold"},ya={class:"fw-semibold"},Ta={class:"fw-semibold"},va={class:"fw-semibold"},Ia={class:"fw-semibold"},Ma={class:"fw-semibold"},Aa={class:"fw-semibold"},xa={class:"fw-semibold"},Pa={class:"fw-semibold"},Ea={class:"fw-semibold"},Va={class:"fw-semibold"},Ca=s("h2",{class:"fw-bold fs-5 mb-2"},"Informasi Dasar",-1),Da={class:"fw-semibold"},Sa={class:"fw-semibold"},ja={class:"fw-semibold"},Na={key:0,class:"badge bg-success"},Ba={key:1,class:"badge bg-danger"},La=s("h2",{class:"fw-bold fs-5 mb-2"},"Informasi Pengguna",-1),Fa={class:"fw-semibold"},Ka={class:"table-responsive push"},Ua={class:"table table-bordered"},Ya=s("thead",null,[s("tr",{class:"text-dark"},[s("th",{class:"text-center",style:{width:"60px"}}),s("th",null,"Keterangan"),s("th",{class:"text-end",style:{width:"120px"}},"Jumlah")])],-1),Oa={class:"text-center"},Ja={class:"fw-semibold mb-1"},Ha=s("div",{class:"text-muted"},null,-1),Ra={class:"text-end"},Wa=s("td",{colspan:"2",class:"fw-bold text-uppercase text-end"},"Total",-1),za={class:"fw-bold text-end"},qa={class:"text-end"},Ga=s("i",{class:"fa fa-close me-2"},null,-1),Qa=s("i",{class:"fa fa-check me-2"},null,-1);function Xa(_,i,d,g,m,c){const h=N,e=L,o=F,k=K,I=U,M=T("select-kelompok"),p=Y,A=J,x=O,P=H,E=T("base-layout");return f(),w(E,null,{default:a(()=>[s("div",W,[s("div",z,[q,s("div",G,[d.data.status=="Pending"?(f(),b(v,{key:0},[t(h,{onClick:i[0]||(i[0]=u=>c.openModal("terima")),type:"primary"},{default:a(()=>[Q,l(" Terima ")]),_:1}),t(h,{onClick:i[1]||(i[1]=u=>c.openModal("tolak")),type:"danger"},{default:a(()=>[X,l(" Tolak ")]),_:1})],64)):D("",!0)])]),t(I,{modelValue:m.activeTab,"onUpdate:modelValue":i[2]||(i[2]=u=>m.activeTab=u),class:"block rounded-2",onTabClick:c.updateTab,stretch:""},{default:a(()=>[t(k,{label:"Informasi Anak",name:"anak"},{default:a(()=>[s("div",Z,[t(o,{gutter:20},{default:a(()=>[t(e,{md:12},{default:a(()=>[t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Nama Lengkap")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",$,n(d.data.nama),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Nama Panggilan")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",aa,n(d.data.username),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Jenis Kelamin")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ta,n(d.data.jk=="L"?"Laki-Laki":"Perempuan"),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Tempat / Tanggal Lahir")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ea,n(d.data.tmp_lahir)+" / "+n(d.data.tgl_lahir),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Usia")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",la,n(c.get_umur(d.data.tgl_lahir)),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Anak Ke")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",sa,n(d.data.anak_ke),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Jarak Rumah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",da,n(d.data.jarak)+" Km",1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Alamat")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",na,n(d.data.alamat),1)]),_:1})]),_:1})]),_:1}),t(e,{md:12},{default:a(()=>[t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Sosialisasi dengan lingkungan")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",oa,n(d.data.sosialisasi_dengan_lingkungan_anak),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Sakit yang pernah diderita")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ia,n(d.data.sakit_yang_pernah_diderita_anak),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Makanan yang disukai")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",_a,n(d.data.makanan_yang_disukai_anak),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Makanan yang tidak disukai")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ma,n(d.data.makanan_yang_tidak_disukai_anak),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Memiliki Alergi")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ua,n(d.data.memiliki_alergi_anak),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Scan Akta Kelahiran")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : ")]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),t(k,{label:"Informasi Orang Tua/Wali",name:"ortu"},{default:a(()=>[s("div",ca,[t(o,{gutter:20},{default:a(()=>[t(e,{md:12},{default:a(()=>[t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Nama Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",fa,n(d.data.user.detail.nama_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Tempat / Tanggal Lahir Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ra,n(d.data.user.detail.tmp_lahir_ayah)+" / "+n(d.data.user.detail.tgl_lahir_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("No HP Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ba,n(d.data.user.detail.telp_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Pendidkan Terakhir Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ha,n(d.data.user.detail.pendidikan_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Agama Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ga,n(d.data.user.detail.agama_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Alamat Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ka,n(d.data.user.detail.alamat_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Pekerjaan Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",wa,n(d.data.user.detail.pekerjaan_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Penghasilan Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",pa,n(d.data.user.detail.penghasilan_ayah),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Alamat Kantor Ayah")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",ya,n(d.data.user.detail.alamat_kantor_ayah),1)]),_:1})]),_:1})]),_:1}),t(e,{md:12},{default:a(()=>[t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Nama Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Ta,n(d.data.user.detail.nama_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Tempat / Tanggal Lahir Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",va,n(d.data.user.detail.tmp_lahir_ibu)+" / "+n(d.data.user.detail.tgl_lahir_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("No HP Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Ia,n(d.data.user.detail.telp_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Pendidkan Terakhir Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Ma,n(d.data.user.detail.pendidikan_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Agama Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Aa,n(d.data.user.detail.agama_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Alamat Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",xa,n(d.data.user.detail.alamat_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Pekerjaan Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Pa,n(d.data.user.detail.pekerjaan_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Penghasilan Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Ea,n(d.data.user.detail.penghasilan_ibu),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{md:10},{default:a(()=>[l("Alamat Kantor Ibu")]),_:1}),t(e,{md:14},{default:a(()=>[l(" : "),s("span",Va,n(d.data.user.detail.alamat_kantor_ibu),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),t(k,{label:"Informasi Pembayaran",name:"invoice"},{default:a(()=>[s("div",{class:"block-content p-4",style:S({background:`url(${d.invoice.status=="paid"?"/images/paid.png":"/images/unpaid.png"}) no-repeat center center`})},[t(o,{gutter:20,justify:"space-between"},{default:a(()=>[t(e,{lg:12},{default:a(()=>[Ca,t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{lg:8},{default:a(()=>[l("Nomor")]),_:1}),t(e,{lg:16},{default:a(()=>[s("div",Da,n(d.invoice.nomor),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{lg:8},{default:a(()=>[l("Tanggal")]),_:1}),t(e,{lg:16},{default:a(()=>[s("div",Sa,n(c.format_date(d.invoice.tgl)),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{lg:8},{default:a(()=>[l("Tanggal Tempo")]),_:1}),t(e,{lg:16},{default:a(()=>[s("div",ja,n(c.format_date(d.invoice.tgl_tempo)),1)]),_:1})]),_:1}),t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{lg:8},{default:a(()=>[l("Status")]),_:1}),t(e,{lg:16},{default:a(()=>[d.invoice.status=="paid"?(f(),b("span",Na," Lunas ")):(f(),b("span",Ba," Belum Bayar "))]),_:1})]),_:1})]),_:1}),t(e,{lg:12},{default:a(()=>[La,t(o,{class:"mb-2",gutter:10},{default:a(()=>[t(e,{lg:8},{default:a(()=>[l("Nama")]),_:1}),t(e,{lg:16},{default:a(()=>[s("div",Fa,n(d.invoice.user.nama),1)]),_:1})]),_:1})]),_:1})]),_:1}),s("div",Ka,[s("table",Ua,[Ya,s("tbody",null,[(f(!0),b(v,null,j(d.invoice.detail,(u,y)=>(f(),b("tr",{key:y},[s("td",Oa,n(y+1),1),s("td",null,[s("p",Ja,n(u.tipe),1),Ha]),s("td",Ra,n(_.currency(u.harga)),1)]))),128))]),s("tfoot",null,[s("tr",null,[Wa,s("td",za,n(_.currency(d.invoice.total)),1)])])])])],4)]),_:1})]),_:1},8,["modelValue","onTabClick"])]),t(P,{modelValue:m.showModal,"onUpdate:modelValue":i[5]||(i[5]=u=>m.showModal=u),title:m.modalTitle,width:"40%"},{default:a(()=>[t(x,{model:m.form,"label-position":"top"},{default:a(()=>[m.form.status=="terima"?(f(),w(p,{key:0,label:"Kelompok",error:d.errors.kelompok_id,usia:m.ageInMonths},{default:a(()=>[t(M,{modelValue:m.form.kelompok_id,"onUpdate:modelValue":i[3]||(i[3]=u=>m.form.kelompok_id=u)},null,8,["modelValue"])]),_:1},8,["error","usia"])):(f(),w(p,{key:1,label:"Alasan",error:d.errors.alasan},{default:a(()=>[t(A,{type:"textarea",modelValue:m.form.alasan,"onUpdate:modelValue":i[4]||(i[4]=u=>m.form.alasan=u)},null,8,["modelValue"])]),_:1},8,["error"])),s("div",qa,[t(h,{onClick:c.closeModal},{default:a(()=>[Ga,l(" Batal ")]),_:1},8,["onClick"]),t(h,{type:"primary",onClick:c.submit},{default:a(()=>[Qa,l(" Simpan ")]),_:1},8,["onClick"])])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1})}const ht=C(R,[["render",Xa]]);export{ht as default};
