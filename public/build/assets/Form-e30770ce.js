import{_ as b,m as g,o as v,e as y,w as o,f as s,p as t,t as V,K as w,g as E,$ as k}from"./id-44e39273.js";import{E as x}from"./index-ada9f14f.js";import{E as M}from"./index-4ea0d70f.js";import{E as B,a as S}from"./index-aa7e31ad.js";import{E as U,a as C}from"./index-84ed3e91.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./_initCloneObject-24df7827.js";const D={components:{},props:{data:Object,errors:Object,editMode:Boolean},data(){return{title:"Tambah Video Baru",loading:!1,form:{id:null,title:null,slug:null,description:null,youtube:null,image:null,youtube_id:null,preview:"/images/poster.png"}}},created(){this.editMode&&this.setValue()},methods:{submit(){this.loading=!0;let r=this.$inertia.form(this.form),e=this.editMode===!0?this.route("admin.video.update",{id:this.data.id}):this.route("admin.video.store");r.post(e,{preserveScroll:!0,onSuccess:()=>{x({type:"success",message:"Data Berhasil Disimpan!"})},onFinish:()=>{this.loading=!1}})},setValue(){this.title="Ubah Video",this.form.id=this.data.id,this.form.title=this.data.title,this.form.description=this.data.description,this.form.youtube=this.data.youtube,this.form.preview=this.data.image},getThumb(r){console.log(r);var e=r.target.value;if(e!=""){var i=e.match("[\\?&]v=([^&#]*)"),u=i===null?e:i[1];this.form.youtube_id=u,this.form.preview="http://img.youtube.com/vi/"+u+"/0.jpg"}}}},F={class:"content"},j={class:"content-heading d-flex justify-content-between align-items-center"},T={class:"space-x-1"},N={class:"block block-rounded"},R={class:"block-content p-4"},I=["src"];function J(r,e,i,u,l,d){const p=k,m=M,n=B,c=U,f=C,_=S,h=g("base-layout");return v(),y(h,null,{default:o(()=>[s("div",F,[t(_,{"label-position":"top","label-width":"30%",onSubmit:E(d.submit,["prevent"])},{default:o(()=>[s("div",j,[s("span",null,V(l.title),1),s("div",T,[t(p,{"native-type":"submit",type:"primary",loading:l.loading},{default:o(()=>[w(" Simpan ")]),_:1},8,["loading"])])]),s("div",N,[s("div",R,[t(f,{gutter:30},{default:o(()=>[t(c,{span:16},{default:o(()=>[t(n,{class:"mb-4",label:"Judul Video",error:i.errors.name},{default:o(()=>[t(m,{modelValue:l.form.title,"onUpdate:modelValue":e[0]||(e[0]=a=>l.form.title=a),placeholder:"Masukan Judul Video"},null,8,["modelValue"])]),_:1},8,["error"]),t(n,{class:"mb-4",label:"Deskripsi",error:i.errors.description},{default:o(()=>[t(m,{modelValue:l.form.description,"onUpdate:modelValue":e[1]||(e[1]=a=>l.form.description=a),rows:6,type:"textarea",placeholder:"Masukan Deskripsi"},null,8,["modelValue"])]),_:1},8,["error"]),t(n,{class:"mb-4",label:"Youtube URL",error:i.errors.youtube,onChange:d.getThumb},{default:o(()=>[t(m,{modelValue:l.form.youtube,"onUpdate:modelValue":e[2]||(e[2]=a=>l.form.youtube=a),placeholder:"Masukan URL Youtube"},null,8,["modelValue"])]),_:1},8,["error","onChange"])]),_:1}),t(c,{span:8},{default:o(()=>[t(n,{class:"mb-4",label:"Foto"},{default:o(()=>[s("img",{src:l.form.preview,class:"img-fluid"},null,8,I)]),_:1})]),_:1})]),_:1})])])]),_:1},8,["onSubmit"])])]),_:1})}const H=b(D,[["render",J]]);export{H as default};
