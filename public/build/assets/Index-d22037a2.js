import{h as E}from"./moment-fbc5633a.js";import{_ as D,J as C,a7 as S,m as V,o as h,e as f,w as s,f as t,K as g,p as e,a5 as L,t as r}from"./id-44e39273.js";import{E as T,a as q}from"./index-88bb1aa7.js";import{E as z,a as I}from"./index-84ed3e91.js";import{E as M}from"./index-4ea0d70f.js";import{E as P,a as Y}from"./index-b7b101e9.js";import{E as j}from"./index-11481b41.js";import{v as B}from"./directive-cd218522.js";import"./index-10bd6a9f.js";import"./event-9519ab40.js";import"./scroll-bd36456a.js";import"./index-9f983416.js";import"./_initCloneObject-24df7827.js";import"./_baseIteratee-982954bc.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-b43587b5.js";import"./raf-3ca20a2c.js";const N={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(o){var o=o??1;try{this.isLoading=!0;const l=await C.get(this.route("admin.rpph.data"),{params:{page:o,limit:this.params.limit,q:this.params.q}});l.status==200&&(this.data=l.data.data,this.params.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page,this.from=l.data.from,this.to=l.data.to),this.isLoading=!1}catch(l){console.error(l)}},onClickRow(n,o,l){S.visit(this.route("admin.pegawai.show",{id:n.id}),{method:"get"})},selectAll(n){n.target.checked?this.dataList.data.forEach((o,l)=>{this.selected.push(o.id)}):this.selected=[]},format_date(n){if(n)return E(String(n)).format("DD MMM YYYY")}}},R={class:"content"},A={class:"content-heading d-flex justify-content-between align-items-center"},K=t("span",null,"RPPH",-1),O={class:"space-x-1"},U=["href"],F=t("i",{class:"fa fa-plus me-1"},null,-1),G={class:"block rounded"},H={class:"block-content py-3"},J=t("span",null,[t("i",{class:"fa fa-search"})],-1),Q={class:"block-content p-0"},W=["href"],X=t("i",{class:"fa fa-eye me-1"},null,-1),Z={class:"block-content py-2"},$={class:"my-auto text-xs"};function tt(n,o,l,et,i,d){const m=T,b=q,c=z,w=M,u=I,p=P,k=Y,v=j,y=V("base-layout"),x=B;return h(),f(y,null,{default:s(()=>[t("div",R,[t("div",A,[K,t("div",O,[t("a",{href:n.route("admin.rpph.create"),class:"ep-button ep-button--primary"},[F,g(" Tambah ")],8,U)])]),t("div",G,[t("div",H,[e(u,{justify:"space-between"},{default:s(()=>[e(c,{span:12},{default:s(()=>[e(b,{modelValue:i.params.limit,"onUpdate:modelValue":o[0]||(o[0]=a=>i.params.limit=a),placeholder:"Pilih",style:{width:"115px"},onChange:o[1]||(o[1]=a=>d.fetchData(1))},{default:s(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(c,{span:7},{default:s(()=>[e(w,{modelValue:i.params.q,"onUpdate:modelValue":o[2]||(o[2]=a=>i.params.q=a),onInput:d.doSearch,clearable:""},{prefix:s(()=>[J]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),t("div",Q,[L((h(),f(k,{data:i.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:s(()=>[e(p,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:s(a=>[t("div",null,r(d.format_date(a.row.tgl_mulai))+" - "+r(d.format_date(a.row.tgl_selesai)),1)]),_:1}),e(p,{prop:"tgl",label:"Topik / Subtopik",width:"200","header-align":"center"},{default:s(a=>[t("div",null,r(a.row.topik)+" / "+r(a.row.subtopik),1)]),_:1}),e(p,{label:"Kelompok",width:"220","header-align":"center"},{default:s(a=>[t("div",null,r(a.row.kelompok.nama)+" ("+r(a.row.kelompok.usia)+")",1)]),_:1}),e(p,{prop:"kelompok.admin.nama",label:"Guru"}),e(p,{label:"Aksi",align:"center",width:"180"},{default:s(a=>[t("a",{href:n.route("admin.rpph.show",{id:a.row.id}),class:"ep-button ep-button--primary"},[X,g(" Detail ")],8,W)]),_:1})]),_:1},8,["data"])),[[x,i.isLoading]])]),t("div",Z,[e(u,{justify:"space-between"},{default:s(()=>[e(c,{lg:12,class:"d-flex"},{default:s(()=>[t("p",$,"Menampilkan "+r(i.from)+" sampai "+r(i.to)+" dari "+r(i.total),1)]),_:1}),e(c,{lg:12,class:"text-end"},{default:s(()=>[e(v,{class:"float-end",background:"",layout:"prev, pager, next","page-size":i.pageSize,total:i.total,"current-page":i.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const wt=D(N,[["render",tt]]);export{wt as default};
