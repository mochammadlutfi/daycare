import{_ as b,m as g,o as v,e as y,w as o,f as s,p as t,t as V,L as w,j as E,$ as k}from"./id-1c1e2a8a.js";import{E as x}from"./index-86db54a9.js";import{E as M}from"./index-9517473f.js";import{E as B,a as S}from"./index-dfa584b8.js";import{E as U,a as j}from"./index-b29a4ac8.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./_initCloneObject-9c7c6a23.js";const C={components:{},props:{data:Object,errors:Object,editMode:Boolean},data(){return{title:"Tambah Video Baru",loading:!1,form:{id:null,title:null,slug:null,description:null,youtube:null,image:null,youtube_id:null,preview:"/images/poster.png"}}},created(){this.editMode&&this.setValue()},methods:{submit(){this.loading=!0;let r=this.$inertia.form(this.form),e=this.editMode===!0?this.route("admin.video.update",{id:this.data.id}):this.route("admin.video.store");r.post(e,{preserveScroll:!0,onSuccess:()=>{x({type:"success",message:"Data Berhasil Disimpan!"})},onFinish:()=>{this.loading=!1}})},setValue(){this.title="Ubah Video",this.form.id=this.data.id,this.form.title=this.data.title,this.form.description=this.data.description,this.form.youtube=this.data.youtube,this.form.preview=this.data.image},getThumb(r){console.log(r);var e=r.target.value;if(e!=""){var i=e.match("[\\?&]v=([^&#]*)"),u=i===null?e:i[1];this.form.youtube_id=u,this.form.preview="http://img.youtube.com/vi/"+u+"/0.jpg"}}}},D={class:"content"},F={class:"content-heading d-flex justify-content-between align-items-center"},T={class:"space-x-1"},L={class:"block block-rounded"},N={class:"block-content p-4"},R=["src"];function I(r,e,i,u,l,d){const p=k,m=M,n=B,c=U,f=j,_=S,h=g("base-layout");return v(),y(h,null,{default:o(()=>[s("div",D,[t(_,{"label-position":"top","label-width":"30%",onSubmit:E(d.submit,["prevent"])},{default:o(()=>[s("div",F,[s("span",null,V(l.title),1),s("div",T,[t(p,{"native-type":"submit",type:"primary",loading:l.loading},{default:o(()=>[w(" Simpan ")]),_:1},8,["loading"])])]),s("div",L,[s("div",N,[t(f,{gutter:30},{default:o(()=>[t(c,{span:16},{default:o(()=>[t(n,{class:"mb-4",label:"Judul Video",error:i.errors.name},{default:o(()=>[t(m,{modelValue:l.form.title,"onUpdate:modelValue":e[0]||(e[0]=a=>l.form.title=a),placeholder:"Masukan Judul Video"},null,8,["modelValue"])]),_:1},8,["error"]),t(n,{class:"mb-4",label:"Deskripsi",error:i.errors.description},{default:o(()=>[t(m,{modelValue:l.form.description,"onUpdate:modelValue":e[1]||(e[1]=a=>l.form.description=a),rows:6,type:"textarea",placeholder:"Masukan Deskripsi"},null,8,["modelValue"])]),_:1},8,["error"]),t(n,{class:"mb-4",label:"Youtube URL",error:i.errors.youtube,onChange:d.getThumb},{default:o(()=>[t(m,{modelValue:l.form.youtube,"onUpdate:modelValue":e[2]||(e[2]=a=>l.form.youtube=a),placeholder:"Masukan URL Youtube"},null,8,["modelValue"])]),_:1},8,["error","onChange"])]),_:1}),t(c,{span:8},{default:o(()=>[t(n,{class:"mb-4",label:"Foto"},{default:o(()=>[s("img",{src:l.form.preview,class:"img-fluid"},null,8,R)]),_:1})]),_:1})]),_:1})])])]),_:1},8,["onSubmit"])])]),_:1})}const K=b(C,[["render",I]]);export{K as default};
