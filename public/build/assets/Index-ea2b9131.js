import{_ as E,K as D,a8 as S,y as C,m as V,o as f,e as g,w as o,f as t,L as u,p as e,a6 as L,t as c}from"./id-ebd2aa87.js";import{E as z,a as q}from"./index-3c7bf8db.js";import{E as I,a as M}from"./index-6077a84f.js";import{E as T}from"./index-4dfa613b.js";import{E as j,a as A}from"./index-dd2d84f0.js";import{E as Y}from"./index-cbe7639f.js";import{v as B}from"./directive-bba39c20.js";import"./index-c6134944.js";import"./event-9519ab40.js";import"./scroll-7f616a59.js";import"./index-1b306c27.js";import"./_initCloneObject-a8f0c4e6.js";import"./_baseIteratee-ec78b234.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-dc9d0eb3.js";import"./raf-04896134.js";const N={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const s=await D.get(this.route("admin.absen.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});s.status==200&&(this.data=s.data.data,this.params.page=s.data.current_page,this.total=s.data.total,this.pageSize=s.data.per_page,this.from=s.data.from,this.to=s.data.to),this.isLoading=!1}catch(s){console.error(s)}},onClickRow(i,a,s){S.visit(this.route("admin.pegawai.show",{id:i.id}),{method:"get"})},selectAll(i){i.target.checked?this.dataList.data.forEach((a,s)=>{this.selected.push(a.id)}):this.selected=[]},format_date(i){if(i)return C(String(i)).format("DD MMMM YYYY")}}},K={class:"content"},O={class:"content-heading d-flex justify-content-between align-items-center"},P=t("span",null,"Absen",-1),R={class:"space-x-1"},U=["href"],F=t("i",{class:"fa fa-plus me-1"},null,-1),H=["href"],G=t("i",{class:"fa fa-plus me-1"},null,-1),J={class:"block rounded"},Q={class:"block-content py-3"},W=t("span",null,[t("i",{class:"fa fa-search"})],-1),X={class:"block-content p-0"},Z=["href"],$=t("i",{class:"fa fa-eye me-1"},null,-1),ee={class:"block-content py-2"},te={class:"my-auto text-xs"};function ae(i,a,s,oe,n,d){const m=z,b=q,p=I,w=T,h=M,r=j,y=A,v=Y,k=V("base-layout"),x=B;return f(),g(k,null,{default:o(()=>[t("div",K,[t("div",O,[P,t("div",R,[t("a",{href:i.route("admin.absen.create"),class:"ep-button ep-button--primary"},[F,u(" Tambah ")],8,U),t("a",{href:i.route("admin.absen.scanner"),class:"ep-button ep-button--primary"},[G,u(" Scanner ")],8,H)])]),t("div",J,[t("div",Q,[e(h,{justify:"space-between"},{default:o(()=>[e(p,{span:12},{default:o(()=>[e(b,{modelValue:n.params.limit,"onUpdate:modelValue":a[0]||(a[0]=l=>n.params.limit=l),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=l=>d.fetchData(1))},{default:o(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(p,{span:7},{default:o(()=>[e(w,{modelValue:n.params.q,"onUpdate:modelValue":a[2]||(a[2]=l=>n.params.q=l),onInput:d.doSearch,clearable:""},{prefix:o(()=>[W]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),t("div",X,[L((f(),g(y,{data:n.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:o(()=>[e(r,{prop:"tgl",label:"Tanggal",width:"220","header-align":"center"},{default:o(l=>[t("div",null,c(d.format_date(l.row.tgl)),1)]),_:1}),e(r,{label:"Kelompok",width:"220","header-align":"center"},{default:o(l=>[t("div",null,c(l.row.kelompok.nama)+" ("+c(l.row.kelompok.usia)+")",1)]),_:1}),e(r,{prop:"hadir",label:"Hadir","header-align":"center",align:"center"}),e(r,{prop:"izin",label:"Izin","header-align":"center",align:"center"}),e(r,{prop:"sakit",label:"Sakit","header-align":"center",align:"center"}),e(r,{prop:"alpa",label:"Alpa","header-align":"center",align:"center"}),e(r,{label:"Aksi",align:"center",width:"180"},{default:o(l=>[t("a",{href:i.route("admin.absen.show",{id:l.row.id}),class:"ep-button ep-button--primary"},[$,u(" Detail ")],8,Z)]),_:1})]),_:1},8,["data"])),[[x,n.isLoading]])]),t("div",ee,[e(h,{justify:"space-between"},{default:o(()=>[e(p,{lg:12,class:"d-flex"},{default:o(()=>[t("p",te,"Menampilkan "+c(n.from)+" sampai "+c(n.to)+" dari "+c(n.total),1)]),_:1}),e(p,{lg:12,class:"text-end"},{default:o(()=>[e(v,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const ye=E(N,[["render",ae]]);export{ye as default};
