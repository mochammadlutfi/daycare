import{h as B}from"./moment-fbc5633a.js";import{_ as K,m,o as u,e as h,w as t,f as o,L as r,p as e,a5 as M,j as L,$ as S,q as T,u as j,v as z}from"./id-1c1e2a8a.js";import{E as I}from"./index-bf383f5d.js";import{E as Y}from"./index-86db54a9.js";import{E as A,a as N}from"./index-e88e0ccf.js";import{E as P}from"./index-9517473f.js";import{E as U,a as R}from"./index-b29a4ac8.js";import{E as q,a as F}from"./index-20a8f229.js";import{E as G}from"./index-8d957708.js";import{v as H}from"./directive-d6b9c9af.js";import"./index-960b7304.js";import"./scroll-3dccf429.js";import"./vnode-6226af66.js";import"./typescript-defaf979.js";import"./index-82c08022.js";import"./event-9519ab40.js";import"./index-3f637f53.js";import"./_initCloneObject-9c7c6a23.js";import"./_baseIteratee-5480d325.js";import"./isArrayLikeObject-63f78cbe.js";import"./raf-a63b4db6.js";const J={components:{},data(){return{removeAlert:!1,data:[],isLoading:!0,page:1,pageSize:0,searchKey:"name",searchKeyword:"",limit:15,total:0}},async created(){await this.fetchData()},methods:{async fetchData(a){var a=a??1;try{this.isLoading=!0;const i=await axios.get(this.route("admin.video.data"),{params:{page:a,limit:this.limit,search:this.searchKeyword,searchKey:this.searchKey}});i.status==200&&(this.data=i.data.data,this.page=i.data.current_page,this.total=i.data.total,this.pageSize=i.data.per_page),this.isLoading=!1}catch(i){console.error(i)}},selectAll(s){s.target.checked?this.dataList.data.forEach((a,i)=>{this.selected.push(a.id)}):this.selected=[]},format_date(s){if(s)return B(String(s)).format("DD MMM YYYY")},hapus(s){I.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.video.delete",{id:s}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),Y({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},O={class:"content"},Q={class:"content-heading d-flex justify-content-between align-items-center"},W={class:"space-x-1"},X=["href"],Z=o("i",{class:"si si-plus me-1"},null,-1),$={class:"block block-rounded"},ee={class:"block-content py-3"},te=["src"],oe=o("i",{class:"fa fa-angle-down ms-1"},null,-1),ae=["href"],se=o("i",{class:"si fa-fw si-note"},null,-1),ne=o("i",{class:"si fa-fw si-trash"},null,-1),ie={class:"block-content py-2"},le={class:"row justify-content-end"},re={class:"col-md-6 text-end"};function ce(s,a,i,de,l,d){const f=A,g=N,w=m("Icon"),p=S,y=P,b=U,k=R,c=q,_=T,v=j,E=z,x=F,C=G,D=m("base-layout"),V=H;return u(),h(D,null,{default:t(()=>[o("div",O,[o("div",Q,[r(" Galeri Video "),o("div",W,[o("a",{href:s.route("admin.video.create"),class:"ep-button ep-button--primary"},[Z,r(" Tambah Video ")],8,X)])]),o("div",$,[o("div",ee,[e(k,null,{default:t(()=>[e(b,{span:10},{default:t(()=>[e(y,{modelValue:l.searchKeyword,"onUpdate:modelValue":a[1]||(a[1]=n=>l.searchKeyword=n),placeholder:"Masukan kata kunci",class:"input-with-select"},{prepend:t(()=>[e(g,{modelValue:l.searchKey,"onUpdate:modelValue":a[0]||(a[0]=n=>l.searchKey=n),placeholder:"Pilih",style:{width:"115px"}},{default:t(()=>[e(f,{label:"Nama",value:"name"})]),_:1},8,["modelValue"])]),append:t(()=>[e(p,null,{default:t(()=>[e(w,{icon:"simple-line-icons:magnifier"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),o("div",{class:"block-content p-0",onRowClick:a[2]||(a[2]=(...n)=>s.onClick&&s.onClick(...n))},[M((u(),h(x,{data:l.data,class:"table-click",style:{width:"100%"},border:""},{default:t(()=>[e(c,{type:"index",width:"50"}),e(c,{label:"Foto",width:"160"},{default:t(n=>[o("img",{src:"/uploads"+n.row.image,class:"rounded-2",width:"120"},null,8,te)]),_:1}),e(c,{prop:"title",label:"Judul",sortable:""}),e(c,{label:"Aksi",align:"center",width:"180"},{default:t(n=>[e(E,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(v,null,{default:t(()=>[e(_,{class:"d-flex align-items-center justify-content-between space-x-1"},{default:t(()=>[o("a",{href:s.route("admin.video.edit",{id:n.row.id})},[r(" Ubah "),se],8,ae)]),_:2},1024),e(_,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:L(pe=>d.hapus(n.row.id),["prevent"])},{default:t(()=>[r(" Hapus "),ne]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(p,{type:"primary"},{default:t(()=>[r(" Aksi "),oe]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[V,l.isLoading]])],32),o("div",ie,[o("div",le,[o("div",re,[e(C,{class:"float-end",background:"",layout:"prev, pager, next","page-size":l.pageSize,total:l.total,"current-page":l.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])])])])])])]),_:1})}const Te=K(J,[["render",ce]]);export{Te as default};
