import{M as V,N,R as b,S as F,c as k,ab as _,aF as E,o as v,j as S,n as p,V as l,k as w,L as A,t as g,W as x,f as y,a9 as D,X as j,a5 as B,r as O,au as H,ao as M,as as P,e as R,a2 as L,U,w as z}from"./id-3481afe5.js";import{C as G}from"./event-9519ab40.js";import{r as h,c as I}from"./raf-3d0315fc.js";const W=V({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:N([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:N([String,Object,Array])}}),X=b({name:"ElStatistic"}),Y=b({...X,props:W,setup(a,{expose:m}){const u=a,s=F("statistic"),r=k(()=>{const{value:e,formatter:f,precision:i,decimalSeparator:n,groupSeparator:c}=u;if(_(f))return f(e);if(!E(e)||Number.isNaN(e))return e;let[t,o=""]=String(e).split(".");return o=o.padEnd(i,"0").slice(0,i>0?i:0),t=t.replace(/\B(?=(\d{3})+(?!\d))/g,c),[t,o].join(o?n:"")});return m({displayValue:r}),(e,f)=>(v(),S("div",{class:p(l(s).b())},[e.$slots.title||e.title?(v(),S("div",{key:0,class:p(l(s).e("head"))},[w(e.$slots,"title",{},()=>[A(g(e.title),1)])],2)):x("v-if",!0),y("div",{class:p(l(s).e("content"))},[e.$slots.prefix||e.prefix?(v(),S("div",{key:0,class:p(l(s).e("prefix"))},[w(e.$slots,"prefix",{},()=>[y("span",null,g(e.prefix),1)])],2)):x("v-if",!0),y("span",{class:p(l(s).e("number")),style:D(e.valueStyle)},g(l(r)),7),e.$slots.suffix||e.suffix?(v(),S("div",{key:1,class:p(l(s).e("suffix"))},[w(e.$slots,"suffix",{},()=>[y("span",null,g(e.suffix),1)])],2)):x("v-if",!0)],2)],2))}});var q=j(Y,[["__file","statistic.vue"]]);const J=B(q),K=V({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:N([Number,Object]),default:0},valueStyle:{type:N([String,Object,Array])}}),Q={finish:()=>!0,[G]:a=>E(a)},Z=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],T=a=>E(a)?new Date(a).getTime():a.valueOf(),C=(a,m)=>{let u=a;const s=/\[([^\]]*)]/g;return Z.reduce((e,[f,i])=>{const n=new RegExp(`${f}+(?![^\\[\\]]*\\])`,"g");if(n.test(e)){const c=Math.floor(u/i);return u-=c*i,e.replace(n,t=>String(c).padStart(t.length,"0"))}return e},m).replace(s,"$1")},ee=b({name:"ElCountdown"}),te=b({...ee,props:K,emits:Q,setup(a,{expose:m,emit:u}){const s=a;let r;const e=O(0),f=k(()=>C(e.value,s.format)),i=t=>C(t,s.format),n=()=>{r&&(I(r),r=void 0)},c=()=>{const t=T(s.value),o=()=>{let d=t-Date.now();u("change",d),d<=0?(d=0,n(),u("finish")):r=h(o),e.value=d};r=h(o)};return H(()=>{e.value=T(s.value)-Date.now(),M(()=>[s.value,s.format],()=>{n(),c()},{immediate:!0})}),P(()=>{n()}),m({displayValue:f}),(t,o)=>(v(),R(l(J),{value:e.value,title:t.title,prefix:t.prefix,suffix:t.suffix,"value-style":t.valueStyle,formatter:i},L({_:2},[U(t.$slots,(d,$)=>({name:$,fn:z(()=>[w(t.$slots,$)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var se=j(te,[["__file","countdown.vue"]]);const ne=B(se);export{ne as E};
