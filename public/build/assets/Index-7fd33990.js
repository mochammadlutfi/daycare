import{h}from"./moment-fbc5633a.js";import{_ as j,J as D,a7 as C,m as S,o as f,e as g,w as o,f as e,K as b,p as t,a5 as V,t as r}from"./id-2e276a2e.js";import{E as L,a as q}from"./index-bb79b737.js";import{E as z,a as T}from"./index-5bcbf47d.js";import{E as A}from"./index-57703201.js";import{E as I,a as M}from"./index-a4208ec2.js";import{E as Y}from"./index-3a9112db.js";import{v as B}from"./directive-2e5632de.js";import"./index-20f4b275.js";import"./event-9519ab40.js";import"./scroll-bd1cd202.js";import"./index-a3b5a262.js";import"./_initCloneObject-8785b8d3.js";import"./_baseIteratee-0f2e46c6.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-5cf94b9b.js";import"./raf-840075f3.js";const J={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const n=await D.get(this.route("admin.antarjemput.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});n.status==200&&(this.data=n.data.data,this.params.page=n.data.current_page,this.total=n.data.total,this.pageSize=n.data.per_page,this.from=n.data.from,this.to=n.data.to),this.isLoading=!1}catch(n){console.error(n)}},onClickRow(l,a,n){C.visit(this.route("admin.pegawai.show",{id:l.id}),{method:"get"})},selectAll(l){l.target.checked?this.dataList.data.forEach((a,n)=>{this.selected.push(a.id)}):this.selected=[]},format_date(l){if(l)return h(String(l)).format("DD MMM YYYY")},format_jam(l){if(l)return h(String(l),"hh:mm:ss").format("hh:mm")}}},N={class:"content"},P={class:"content-heading d-flex justify-content-between align-items-center"},K=e("span",null,"Antar Jemput",-1),O={class:"space-x-1"},R=["href"],U=e("i",{class:"fa fa-plus me-1"},null,-1),F={class:"block rounded"},G={class:"block-content py-3"},H=e("span",null,[e("i",{class:"fa fa-search"})],-1),Q={class:"block-content p-0"},W=["href"],X=e("i",{class:"fa fa-eye me-1"},null,-1),Z={class:"block-content py-2"},$={class:"my-auto text-xs"};function tt(l,a,n,et,i,d){const m=L,w=q,p=z,k=A,u=T,c=I,v=M,y=Y,x=S("base-layout"),E=B;return f(),g(x,null,{default:o(()=>[e("div",N,[e("div",P,[K,e("div",O,[e("a",{href:l.route("admin.antarjemput.create"),class:"ep-button ep-button--primary"},[U,b(" Tambah ")],8,R)])]),e("div",F,[e("div",G,[t(u,{justify:"space-between"},{default:o(()=>[t(p,{span:12},{default:o(()=>[t(w,{modelValue:i.params.limit,"onUpdate:modelValue":a[0]||(a[0]=s=>i.params.limit=s),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=s=>d.fetchData(1))},{default:o(()=>[t(m,{label:"25",value:"25"}),t(m,{label:"50",value:"50"}),t(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),t(p,{span:7},{default:o(()=>[t(k,{modelValue:i.params.q,"onUpdate:modelValue":a[2]||(a[2]=s=>i.params.q=s),onInput:d.doSearch,clearable:""},{prefix:o(()=>[H]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),e("div",Q,[V((f(),g(v,{data:i.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:o(()=>[t(c,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:o(s=>[e("div",null,r(d.format_date(s.row.tgl)),1)]),_:1}),t(c,{prop:"jam",label:"Jam","header-align":"center"},{default:o(s=>[e("div",null,r(d.format_jam(s.row.jam)),1)]),_:1}),t(c,{prop:"admin.nama",label:"Penjemput"}),t(c,{label:"Kelompok",width:"220","header-align":"center"},{default:o(s=>[e("div",null,r(s.row.kelompok.nama)+" ("+r(s.row.kelompok.usia)+")",1)]),_:1}),t(c,{prop:"anak.nama",label:"Anak"}),t(c,{label:"Aksi",align:"center",width:"180"},{default:o(s=>[e("a",{href:l.route("admin.antarjemput.show",{id:s.row.id}),class:"ep-button ep-button--primary"},[X,b(" Detail ")],8,W)]),_:1})]),_:1},8,["data"])),[[E,i.isLoading]])]),e("div",Z,[t(u,{justify:"space-between"},{default:o(()=>[t(p,{lg:12,class:"d-flex"},{default:o(()=>[e("p",$,"Menampilkan "+r(i.from)+" sampai "+r(i.to)+" dari "+r(i.total),1)]),_:1}),t(p,{lg:12,class:"text-end"},{default:o(()=>[t(y,{class:"float-end",background:"",layout:"prev, pager, next","page-size":i.pageSize,total:i.total,"current-page":i.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const wt=j(J,[["render",tt]]);export{wt as default};
