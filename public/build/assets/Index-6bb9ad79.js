import{h as x}from"./moment-fbc5633a.js";import{_ as E,J as C,a7 as D,m as S,o as d,e as j,w as l,f as e,a5 as V,j as p,n as q,p as a,t as i,K as L,F as z,S as P}from"./id-2e276a2e.js";import{E as T,a as A}from"./index-bb79b737.js";import{E as B,a as I}from"./index-5bcbf47d.js";import{E as K}from"./index-57703201.js";import{E as M,a as R}from"./index-a4208ec2.js";import{E as Y}from"./index-3a9112db.js";import{v as F}from"./directive-2e5632de.js";import"./index-20f4b275.js";import"./event-9519ab40.js";import"./scroll-bd1cd202.js";import"./index-a3b5a262.js";import"./_initCloneObject-8785b8d3.js";import"./_baseIteratee-0f2e46c6.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-5cf94b9b.js";import"./raf-840075f3.js";const N={components:{},inject:["mq"],data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(s){var s=s??1;try{this.isLoading=!0;const n=await C.get(this.route("user.raport.data"),{params:{page:s,limit:this.params.limit,q:this.params.q}});n.status==200&&(this.data=n.data.data,this.params.page=n.data.current_page,this.total=n.data.total,this.pageSize=n.data.per_page,this.from=n.data.from,this.to=n.data.to),this.isLoading=!1}catch(n){console.error(n)}},onClickRow(r,s,n){D.visit(this.route("user.raport.show",{id:r.id}),{method:"get"})},selectAll(r){r.target.checked?this.dataList.data.forEach((s,n)=>{this.selected.push(s.id)}):this.selected=[]},format_date(r){if(r)return x(String(r)).format("DD MMM YYYY")}}},O={class:"content"},U=e("div",{class:"content-heading d-flex justify-content-between align-items-center"},[e("span",null,"Raport"),e("div",{class:"space-x-1"})],-1),J={class:"block rounded"},G=e("span",null,[e("i",{class:"fa fa-search"})],-1),H={key:0,class:"block-content p-0"},Q=["href"],W=e("i",{class:"fa fa-eye me-1"},null,-1),X={key:1,class:"block-content p-0"},Z=["href"],$={class:"border-bottom border-3 p-3 text-dark"},ee={class:"d-flex justify-content-between align-items-center"},te=e("div",{class:"fs-sm fw-semibold"},"Tanggal",-1),ae={class:"fs-sm"},se={class:"d-flex justify-content-between align-items-center"},oe=e("div",{class:"fs-sm fw-semibold"},"Pengasuh",-1),le={class:"fs-sm"},ne={class:"d-flex justify-content-between align-items-center"},ie=e("div",{class:"fs-sm fw-semibold"},"Kelompok",-1),re={class:"fs-sm"},ce={class:"d-flex justify-content-between align-items-center"},de=e("div",{class:"fs-sm fw-semibold"},"Anak",-1),me={class:"fs-sm"},pe={class:"block-content py-2"},_e={class:"my-auto text-xs"};function ue(r,s,n,fe,o,c){const f=T,g=A,u=B,b=K,h=I,m=M,k=R,v=Y,w=S("user-layout"),y=F;return d(),j(w,{title:"Raport"},{default:l(()=>[e("div",O,[U,V((d(),p("div",J,[e("div",{class:q(["block-content py-3",{"border-bottom border-3":!c.mq.smPlus}])},[a(h,{justify:"space-between",gutter:10},{default:l(()=>[a(u,{md:4,xs:6,sm:4},{default:l(()=>[a(g,{modelValue:o.params.limit,"onUpdate:modelValue":s[0]||(s[0]=t=>o.params.limit=t),placeholder:"Pilih",class:"w-100",onChange:s[1]||(s[1]=t=>c.fetchData(1))},{default:l(()=>[a(f,{label:"25",value:"25"}),a(f,{label:"50",value:"50"}),a(f,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),a(u,{md:7,xs:18,sm:20},{default:l(()=>[a(b,{modelValue:o.params.q,"onUpdate:modelValue":s[2]||(s[2]=t=>o.params.q=t),onInput:c.doSearch,clearable:""},{prefix:l(()=>[G]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})],2),c.mq.smPlus?(d(),p("div",H,[a(k,{data:o.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:l(()=>[a(m,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:l(t=>[e("div",null,i(c.format_date(t.row.tgl)),1)]),_:1}),a(m,{prop:"admin.nama",label:"Pengasuh"}),a(m,{label:"Kelompok",width:"220","header-align":"center"},{default:l(t=>[e("div",null,i(t.row.kelompok.nama)+" ("+i(t.row.kelompok.usia)+")",1)]),_:1}),a(m,{prop:"anak.nama",label:"Anak"}),a(m,{label:"Aksi",align:"center",width:"180"},{default:l(t=>[e("a",{href:r.route("user.raport.show",{id:t.row.id}),class:"ep-button ep-button--primary"},[W,L(" Detail ")],8,Q)]),_:1})]),_:1},8,["data"])])):(d(),p("div",X,[(d(!0),p(z,null,P(o.data,t=>(d(),p("a",{href:r.route("user.raport.show",{id:t.id}),key:t.id},[e("div",$,[e("div",ee,[te,e("div",ae,i(c.format_date(t.tgl)),1)]),e("div",se,[oe,e("div",le,i(t.admin.nama),1)]),e("div",ne,[ie,e("div",re,"Kelompok "+i(t.kelompok.nama)+" ("+i(t.kelompok.usia)+")",1)]),e("div",ce,[de,e("div",me,i(t.anak.nama),1)])])],8,Z))),128))])),e("div",pe,[a(h,{justify:"space-between"},{default:l(()=>[a(u,{lg:12,class:"d-flex"},{default:l(()=>[e("p",_e,"Menampilkan "+i(o.from)+" sampai "+i(o.to)+" dari "+i(o.total),1)]),_:1}),a(u,{lg:12,class:"text-end"},{default:l(()=>[a(v,{class:"float-end",background:"",layout:"prev, pager, next","page-size":o.pageSize,total:o.total,"current-page":o.page,onCurrentChange:c.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])),[[y,o.isLoading]])])]),_:1})}const Pe=E(N,[["render",ue]]);export{Pe as default};
