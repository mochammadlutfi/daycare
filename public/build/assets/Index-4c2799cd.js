import{h as B}from"./moment-fbc5633a.js";import{_ as L,m as y,o as u,e as m,w as a,f as s,p as e,a6 as M,L as p,g as j,a0 as K,q as I,u as z,v as N}from"./id-ebd2aa87.js";import{E as P}from"./index-7383163a.js";import{E as Y}from"./index-49bd9fbe.js";import{E as A,a as U}from"./index-3c7bf8db.js";import{E as H,a as R}from"./index-6077a84f.js";import{E as q}from"./index-81da6a09.js";import{E as F}from"./index-4dfa613b.js";import{E as O,a as G}from"./index-dd2d84f0.js";import{E as J}from"./index-c6134944.js";import{E as Q}from"./index-cbe7639f.js";import{v as W}from"./directive-bba39c20.js";import"./index-8a1cff73.js";import"./scroll-7f616a59.js";import"./vnode-a5b99e31.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./index-1b306c27.js";import"./_initCloneObject-a8f0c4e6.js";import"./_baseIteratee-ec78b234.js";import"./isArrayLikeObject-dc9d0eb3.js";import"./raf-04896134.js";const X={components:{},data(){return{removeAlert:!1,data:[],isLoading:!0,page:1,pageSize:0,searchKey:"name",searchKeyword:"",limit:25,total:0,status:null}},async created(){await this.fetchData()},methods:{async fetchData(t){var t=t??1;try{this.isLoading=!0;const i=await axios.get(this.route("admin.testimoni.data"),{params:{page:t,limit:this.limit,search:this.searchKeyword,searchKey:this.searchKey,status:this.status}});i.status==200&&(this.data=i.data.data,this.page=i.data.current_page,this.total=i.data.total,this.pageSize=i.data.per_page),this.isLoading=!1}catch(i){console.error(i)}},selectAll(l){l.target.checked?this.dataList.data.forEach((t,i)=>{this.selected.push(t.id)}):this.selected=[]},format_date(l){if(l)return B(String(l)).format("DD MMM YYYY")},hapus(l){P.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.video.delete",{id:l}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),Y({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},Z={class:"content"},$=s("div",{class:"content-heading d-flex justify-content-between align-items-center"}," Testimoni Dukungan ",-1),ee={class:"block block-rounded"},te={class:"block-content py-3"},ae=s("i",{class:"fa fa-angle-down ms-1"},null,-1),oe=["href"],se=s("i",{class:"si fa-fw si-eye"},null,-1),ne=s("i",{class:"si fa-fw si-trash"},null,-1),le={class:"block-content py-2"},ie={class:"row justify-content-end"},re={class:"col-md-6 text-end"};function de(l,t,i,ce,n,d){const c=A,f=U,_=H,b=q,k=y("Icon"),h=K,v=F,E=R,r=O,g=J,w=I,D=z,C=N,x=G,T=Q,V=y("base-layout"),S=W;return u(),m(V,null,{default:a(()=>[s("div",Z,[$,s("div",ee,[s("div",te,[e(E,{justify:"space-between"},{default:a(()=>[e(_,{span:4},{default:a(()=>[e(f,{modelValue:n.limit,"onUpdate:modelValue":t[0]||(t[0]=o=>n.limit=o),placeholder:"Pilih",style:{width:"115px"},onChange:t[1]||(t[1]=o=>d.fetchData(1))},{default:a(()=>[e(c,{label:"25",value:25}),e(c,{label:"50",value:50}),e(c,{label:"100",value:100})]),_:1},8,["modelValue"])]),_:1}),e(_,{span:4},{default:a(()=>[e(b,{label:"Status"},{default:a(()=>[e(f,{modelValue:n.status,"onUpdate:modelValue":t[2]||(t[2]=o=>n.status=o),placeholder:"Status",style:{width:"150px"},onChange:t[3]||(t[3]=o=>d.fetchData(1))},{default:a(()=>[e(c,{label:"Tayang",value:1}),e(c,{label:"Tidak Tayang",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(v,{modelValue:n.searchKeyword,"onUpdate:modelValue":t[5]||(t[5]=o=>n.searchKeyword=o),placeholder:"Masukan kata kunci",class:"input-with-select",clearable:""},{append:a(()=>[e(h,{onClick:t[4]||(t[4]=o=>d.fetchData(1))},{default:a(()=>[e(k,{icon:"simple-line-icons:magnifier"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),s("div",{class:"block-content p-0",onRowClick:t[6]||(t[6]=(...o)=>l.onClick&&l.onClick(...o))},[M((u(),m(x,{data:n.data,style:{width:"100%"},border:""},{default:a(()=>[e(r,{type:"index",width:"50"}),e(r,{prop:"nama",label:"Nama Lengkap",sortable:""}),e(r,{prop:"pekerjaan",label:"Pekerjaan",sortable:""}),e(r,{prop:"phone",label:"No HP",sortable:""}),e(r,{label:"Status"},{default:a(o=>[o.row.status==1?(u(),m(g,{key:0,type:"primary"},{default:a(()=>[p("Tayang")]),_:1})):(u(),m(g,{key:1,type:"danger"},{default:a(()=>[p("Tidak Tayang")]),_:1}))]),_:1}),e(r,{label:"Aksi",align:"center",width:"180"},{default:a(o=>[e(C,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:a(()=>[e(D,null,{default:a(()=>[e(w,null,{default:a(()=>[s("a",{href:l.route("admin.testimoni.show",{id:o.row.id}),class:"d-flex align-items-center justify-content-between w-100"},[p(" Detail "),se],8,oe)]),_:2},1024),e(w,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:j(pe=>d.hapus(o.row.id),["prevent"])},{default:a(()=>[p(" Hapus "),ne]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[e(h,{type:"primary"},{default:a(()=>[p(" Aksi "),ae]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[S,n.isLoading]])],32),s("div",le,[s("div",ie,[s("div",re,[e(T,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])])])])])])]),_:1})}const Ke=L(X,[["render",de]]);export{Ke as default};
