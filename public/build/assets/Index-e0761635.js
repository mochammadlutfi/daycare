import{h as S}from"./moment-fbc5633a.js";import{_ as D,K as C,a8 as I,m as V,o as f,e as g,w as s,f as e,L as b,p as t,a6 as L,t as c,H as T,I as q}from"./id-3481afe5.js";import{E as z,a as j}from"./index-39beff3f.js";import{E as K,a as M}from"./index-64ddff80.js";import{E as Y}from"./index-b6dcfd92.js";import{E as A,a as B}from"./index-7888d8ea.js";import{E as N}from"./index-34caf5a7.js";import{v as F}from"./directive-3586f8b3.js";import"./index-facbdfef.js";import"./event-9519ab40.js";import"./scroll-bcd136fa.js";import"./index-a3279758.js";import"./_initCloneObject-eb6e072f.js";import"./_baseIteratee-e7ebdd39.js";import"./typescript-defaf979.js";import"./isArrayLikeObject-ad341f20.js";import"./raf-3d0315fc.js";const O={components:{},data(){return{kota_id:null,selected:[],data:[],isLoading:!0,page:1,pageSize:0,limit:5,total:0,from:0,to:0,params:{page:1,limit:25,q:""}}},async created(){await this.fetchData()},methods:{async setFilter(){this.daerahSelect=!1,await this.fetchData()},doSearch:_.debounce(function(){this.isLoading=!0,this.fetchData()},1e3),async fetchData(a){var a=a??1;try{this.isLoading=!0;const l=await C.get(this.route("admin.aktivitas.data"),{params:{page:a,limit:this.params.limit,q:this.params.q}});l.status==200&&(this.data=l.data.data,this.params.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page,this.from=l.data.from,this.to=l.data.to),this.isLoading=!1}catch(l){console.error(l)}},onClickRow(o,a,l){I.visit(this.route("admin.pegawai.show",{id:o.id}),{method:"get"})},selectAll(o){o.target.checked?this.dataList.data.forEach((a,l)=>{this.selected.push(a.id)}):this.selected=[]},format_date(o){if(o)return S(String(o)).format("DD MMM YYYY")}}},m=o=>(T("data-v-c6a59310"),o=o(),q(),o),P={class:"content"},R={class:"content-heading d-flex justify-content-between align-items-center"},U=m(()=>e("span",null,"Aktivitas",-1)),G={class:"space-x-1"},H=["href"],J=m(()=>e("i",{class:"fa fa-plus me-1"},null,-1)),Q={class:"block rounded"},W={class:"block-content py-3"},X=m(()=>e("span",null,[e("i",{class:"fa fa-search"})],-1)),Z={class:"block-content p-0"},$=["href"],tt=m(()=>e("i",{class:"fa fa-eye me-1"},null,-1)),et={class:"block-content py-2"},at={class:"my-auto text-xs"};function ot(o,a,l,st,n,d){const u=z,v=j,p=K,w=Y,h=M,r=A,k=B,y=N,x=V("base-layout"),E=F;return f(),g(x,null,{default:s(()=>[e("div",P,[e("div",R,[U,e("div",G,[e("a",{href:o.route("admin.aktivitas.create"),class:"ep-button ep-button--primary"},[J,b(" Tambah ")],8,H)])]),e("div",Q,[e("div",W,[t(h,{justify:"space-between"},{default:s(()=>[t(p,{span:12},{default:s(()=>[t(v,{modelValue:n.params.limit,"onUpdate:modelValue":a[0]||(a[0]=i=>n.params.limit=i),placeholder:"Pilih",style:{width:"115px"},onChange:a[1]||(a[1]=i=>d.fetchData(1))},{default:s(()=>[t(u,{label:"25",value:"25"}),t(u,{label:"50",value:"50"}),t(u,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),t(p,{span:7},{default:s(()=>[t(w,{modelValue:n.params.q,"onUpdate:modelValue":a[2]||(a[2]=i=>n.params.q=i),onInput:d.doSearch,clearable:""},{prefix:s(()=>[X]),_:1},8,["modelValue","onInput"])]),_:1})]),_:1})]),e("div",Z,[L((f(),g(k,{data:n.data,class:"w-100","header-cell-class-name":"bg-body text-dark"},{default:s(()=>[t(r,{prop:"tgl",label:"Tanggal",width:"200","header-align":"center"},{default:s(i=>[e("div",null,c(d.format_date(i.row.tgl)),1)]),_:1}),t(r,{label:"Kelompok",width:"220","header-align":"center"},{default:s(i=>[e("div",null,c(i.row.kelompok.nama)+" ("+c(i.row.kelompok.usia)+")",1)]),_:1}),t(r,{prop:"admin.nama",label:"Guru"}),t(r,{prop:"jenis.nama",label:"Jenis Kegiatan"}),t(r,{prop:"kegiatan.nama",label:"Kegiatan"}),t(r,{prop:"foto_count",label:"Total Foto"}),t(r,{label:"Aksi",align:"center",width:"180"},{default:s(i=>[e("a",{href:o.route("admin.aktivitas.show",{id:i.row.id}),class:"ep-button ep-button--primary"},[tt,b(" Detail ")],8,$)]),_:1})]),_:1},8,["data"])),[[E,n.isLoading]])]),e("div",et,[t(h,{justify:"space-between"},{default:s(()=>[t(p,{lg:12,class:"d-flex"},{default:s(()=>[e("p",at,"Menampilkan "+c(n.from)+" sampai "+c(n.to)+" dari "+c(n.total),1)]),_:1}),t(p,{lg:12,class:"text-end"},{default:s(()=>[t(y,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:d.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])])])]),_:1})}const yt=D(O,[["render",ot],["__scopeId","data-v-c6a59310"]]);export{yt as default};
